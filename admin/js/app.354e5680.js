(function(e){function t(t){for(var i,r,s=t[0],l=t[1],c=t[2],u=0,d=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);p&&p(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],i=!0,s=1;s<o.length;s++){var l=o[s];0!==n[l]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=o[0]))}return e}var i={},n={app:0},a=[];function r(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=i,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var p=l;a.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"06d2":function(e,t,o){var i=o("1c1e");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=o("499e").default;n("77906990",i,!0,{sourceMap:!1,shadowMode:!1})},1:function(e,t){},"1c1e":function(e,t,o){var i=o("24fb");t=i(!1),t.push([e.i,"::v-deep .slide-fade-enter-active{-webkit-transition:all .3s ease;transition:all .3s ease}::v-deep .slide-fade-leave-active{-webkit-transition:all .6s cubic-bezier(1,.5,.8,1);transition:all .6s cubic-bezier(1,.5,.8,1)}.slide-fade-leave-to,::v-deep .slide-fade-enter{-webkit-transform:translatex(100px);transform:translatex(100px);opacity:0}::v-deep .v-menu__content{-webkit-transition:all .3s ease;transition:all .3s ease}",""]),e.exports=t},"33d7":function(e){e.exports=JSON.parse('{"common":{"name":"acceptdata","version":"0.2.1","news":{"0.2.1":{"en":"Added Tables"},"0.0.1":{"en":"initial release","de":"Erstveröffentlichung","ru":"Начальная версия","pt":"lançamento inicial","nl":"Eerste uitgave","fr":"Première version","it":"Versione iniziale","es":"Versión inicial","pl":"Pierwsze wydanie","zh-cn":"首次出版"}},"title":"Accept Data via network","titleLang":{"en":"Accept Data via network","de":"Daten über das Netzwerk akzeptieren","ru":"Принять данные через сеть","pt":"Aceitar dados via rede","nl":"Accepteer gegevens via het netwerk","fr":"Accepter les données via le réseau","it":"Accetta dati tramite rete","es":"Aceptar datos a través de la red","pl":"Akceptuj dane przez sieć","zh-cn":"通过网络接受数据"},"desc":{"en":"Accept Data can be used as a destination for devices which generate data and can post it to a device on a network in JSON or URL format","de":"Daten akzeptieren kann als Ziel für Geräte verwendet werden, die Daten generieren und diese im JSON- oder URL-Format an ein Gerät in einem Netzwerk senden","ru":"Принять данные можно использовать в качестве места назначения для устройств, которые генерируют данные и могут публиковать их на устройстве в сети в формате JSON или URL","pt":"Accept Data pode ser usado como destino para dispositivos que geram dados e pode publicá-los em um dispositivo em uma rede no formato JSON ou URL","nl":"Accepteer gegevens kan worden gebruikt als bestemming voor apparaten die gegevens genereren en deze op een apparaat in een netwerk in JSON- of URL-indeling kunnen plaatsen","fr":"Accepter les données peuvent être utilisées comme destination pour les appareils qui génèrent des données et peuvent les publier sur un appareil sur un réseau au format JSON ou URL","it":"Accetta I dati possono essere utilizzati come destinazione per i dispositivi che generano dati e possono pubblicarli su un dispositivo su una rete in formato JSON o URL","es":"Aceptar Los datos se pueden usar como destino para dispositivos que generan datos y pueden publicarlos en un dispositivo en una red en formato JSON o URL","pl":"Akceptuj Dane mogą być używane jako miejsce docelowe dla urządzeń generujących dane i mogą wysyłać je do urządzenia w sieci w formacie JSON lub URL","zh-cn":"接受数据可以用作生成数据的设备的目标，并可以将其以JSON或URL格式发布到网络上的设备"},"authors":["frankjoke <frankjoke@hotmail.com>"],"keywords":["JSON","URL","GET","POST"],"license":"MIT","platform":"Javascript/Node.js","main":"acceptdata.js","icon":"acceptdata.png","enabled":true,"extIcon":"https://raw.githubusercontent.com/frankjoke/ioBroker.acceptdata/master/admin/acceptdata.png","readme":"https://github.com/frankjoke/ioBroker.acceptdata/blob/master/README.md","loglevel":"info","mode":"daemon","type":"communication","compact":true,"connectionType":"local","dataSource":"push","materialize":false,"dependencies":[{"js-controller":">=1.4.2"}]},"configTool":[{"label":"Config","icon":"mdi-cog","items":[{"type":"number","min":1000,"max":65000,"label":"Port","placeholder":"Enter port address on which iobroker will listen to your request","hint":"Port to listen on >1000 & <65000","value":"port","sm3":true,"prepend-icon":"mdi-home-import-outline","rules":["numberRule"],"cols":3},{"type":"text","label":"For Path field:","html":"The external device can connect to the adapter\'s server using following path: example `http://iobroker-server:port/<strong>path</strong>?data=...`","style":"width=\'98%\'","cols":9},{"type":"text","label":"For Method field:","html":"Either <strong>GET</strong> or <strong>PUT</strong> is supported.<br>By entering the below URL in your browser (changing iobroker-server to your server name or ip) you can test the \'Test\' entry.<a target=\'_blank\' href=\'http://localhost:3000/Test?what=ok&length_$m=12&temp_$%C2%B0F=13&speed_$mp/h=88\'>http://localhost:3000/Test?what=ok&length_$m=12&temp_$%C2%B0F=13&speed_$mp/h=88</a>","style":"width=\'98%\'","cols":3},{"type":"text","label":"For Convert field:","html":"Conversion receives data as variable $ and can convert it to some new format which will then be stored in state(s) named with path.<br>example: \'{ tempC: FtoC($.tempf, 1) }\' where FtoC an internal conversion for Farenheit to Celsius is.<br>Other functions are <code>toNum(str, digits_after_comma), CtoF(..) and ItoMM(...)</code><br>The field names can end with \'_\' and type/unit information. The text after the \'_\' will be the type like with \'_date\', or if type should be number with specific unit you can name it \'_$km/h\'. There are some predefined types available as well which can be named directly (without $): <strong>\'Hum\', \'Kmh\', \'Deg\', \'Date\', \'Hpa\', \'Mm\', \'Wm2\', \'Txt\', \'C\', \'V\'</strong> where V is just a number Value, the many of the other set also roles.","style":"width=\'98%\'","cols":9},{"ruler":"hr"},{"type":"table","label":"Path Table","value":"pathtable","disable-sort":true,"cols":12,"items":[{"text":"Path","type":"string","value":"path","align":"start","rules":["uniqueTableRule"],"sortable":true,"divider":true,"default":"new path","width":"19%"},{"text":"Method","type":"select","select":["GET","PUT"],"value":"method","align":"center","sortable":false,"divider":true,"width":"8%"},{"text":"Convert","value":"convert","type":"textarea","align":"start","default":"$","sortable":true,"divider":true,"width":"60%"},{"text":"Enabled","type":"checkbox","value":"enabled","sortable":false,"align":"center","divider":true,"width":"5%"}]}]},{"label":"Contact","icon":"mdi-phone","items":[{"typer":"text","label":"For Path field:","html":"The external device can connect to the adapter\'s server using following path: example `http://iobroker-server:port/<strong>path</strong>?data=...`","sm4":true,"class":"pa-1 align-self-end","style":"width=\'98%\'","cols":2},{"type":"string","label":"String","placeholder":"Enter HTML...","value":"string1","prepend-icon":"mdi-home-import-outline","rules":["($ && $.length>0) || \'String cannot be empty!\'"],"cols":3},{"ruler":"horizontal"},{"type":"checkbox","label":"Checkbox","value":"checkbox1","cols":2},{"type":"chips","label":"Chips","value":"chips1","select_O":["aaa","bbb",3,5],"delimiters":[",",";"],"flat":true,"hint":"please enter: old device name = new device name","rules":["{const f = $.filter(i => i.indexOf(\'=\')<1 || i.length <3); return !f.length ? true : `At least 3 chars and need to include an \'=\' after first position for ${f[0]}`;}"],"cols":6},{"type":"checkbox","value":"checkbox2"},{"ruler":"spacer","type":"switch","label":"Switch","value":"checkbox1"},{"type":"text","label":"Html Contact","html":"Das ist<br>html","attrs":{"sm4":true,"class":"pa-1"}},{"type":"vertical"},{"type":"text","label":"Text Contact","text":"Das ist Text","attrs":{"sm4":true,"class":"pa-2 align-self-center"}}]}],"native":{"port":"3000","pathtable":[{"path":"easyweather","method":"1","convert":"{ outdoorTemp_C: FtoC($.tempf, 1), indoorTemp_C: FtoC($.indoortempf,1), dewPoint_C: FtoC($.dewptf,1), windChill_C: FtoC($.windchillf,1), indoorHumidity_Hum: toNum($.indoorhumidity), outdoorHumidity_Hum: toNum($.humidity), windSpeed_Kmh: toNum($.windspeed_mph*1.61,1), windGust_Kmh: toNum($.windgustmph*1.61,1), windDir_Deg: toNum($.winddir), lastUpdate_Date: new Date($.dateutc.split(\\" \\").join(\\"T\\")+\\".0Z\\"), absBaro_Hpa: toNum($.absbaromin * 33.862,0), baro_Hpa: toNum($.baromin * 33.862, 0), rain_Mm: ItoMM($.rainin), rainDaily_Mm: ItoMM($.dailyrainin,1), rainWeekly_Mm: ItoMM($.weeklyrainin,0), rainMonthly_Mm: ItoMM($.monthlyrainin,0), solarradiation_Wm2: toNum($.solarradiation,2), uv_V: Number($.UV), software_Txt: $.softwaretype}","enabled":true},{"path":"Test","method":"1","convert":"$","enabled":true}]},"objects":[],"instanceObjects":[{"_id":"info","type":"channel","common":{"name":"Information"},"native":{}},{"_id":"info.connection","type":"state","common":{"role":"indicator.connected","name":"Device or service connected","type":"boolean","read":true,"write":false,"def":false},"native":{}}]}')},"3afa":function(e,t,o){var i=o("7578");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=o("499e").default;n("61df65aa",i,!0,{sourceMap:!1,shadowMode:!1})},4113:function(e,t,o){"use strict";var i=o("06d2"),n=o.n(i);n.a},4404:function(e,t,o){var i=o("24fb");t=i(!1),t.push([e.i,"html{overflow-y:auto!important}",""]),e.exports=t},4907:function(e,t,o){"use strict";var i=o("bd4b"),n=o.n(i);n.a},"49f8":function(e,t,o){var i={"./de.json":"6ce2","./en.json":"edd4","./es.json":"a306","./fr.json":"f693"};function n(e){var t=a(e);return o(t)}function a(e){if(!o.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}n.keys=function(){return Object.keys(i)},n.resolve=a,e.exports=n,n.id="49f8"},"56d7":function(e,t,o){"use strict";o.r(t);var i=o("2b0e"),n=(o("d4b8"),o("41e6"),o("f309")),a=o("5607");i["a"].use(n["a"],{directives:{Ripple:a["a"]}});var r=new n["a"]({icons:{iconfont:"mdi"}}),s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-app",[i("v-app-bar",{attrs:{app:"",color:"primary",dark:"",dense:"","elevate-on-scroll":"","scroll-target":"#MyAppContent"}},[i("div",{staticClass:"d-flex align-center"},[i("v-img",{staticClass:"shrink mr-2",attrs:{alt:e.iobrokerAdapter,contain:"",src:o("cbf9"),width:"35"}}),i("fjB",{attrs:{href:e.iobrokerAdapterCommon.readme,target:"_blank",text:"",img:"mdi-help-circle-outline",tooltip:"Goto readme for "+e.iobrokerAdapter,label:e.iobrokerAdapter+" v("+e.iobrokerPackage.version+")"}})],1),i("v-tabs",{attrs:{centered:""},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}},e._l(e.configTool,(function(t){return i("v-tab",{key:t.label},[t.icon?i("v-icon",{attrs:{left:"",small:""}},[e._v(e._s(t.icon))]):e._e(),i("span",{directives:[{name:"t",rawName:"v-t",value:t.label,expression:"item.label"}]})],1)})),1),i("v-spacer"),i("fjFileSaveButton",{attrs:{content:e.iobrokerConfig,opts:{type:"JSON",basename:e.iobrokerAdapter+"-config"},icon:"",small:"",text:"",tooltip:"Download Config JSON or shift-click to copy to clipboard",img:"mdi-briefcase-download"}}),i("fjFileLoadButton",{attrs:{text:"",icon:"",small:"",tooltip:"Upload Config JSON or drop config file here",img:"mdi-briefcase-upload",message:"Loaded config!"},on:{onchange:function(t){e.iobrokerConfig=arguments[0]}}}),i("fjB",{attrs:{text:"",disabled:!e.iobrokerConfigChanged,small:"",label:"Save",img:"mdi-content-save",tooltip:"Save current config"},on:{click:function(t){return t.stopPropagation(),e.saveAdapterConfig(null)}}}),i("fjAlerts",{attrs:{offsetX:0,offsetY:20}}),i("fjB",{attrs:{text:"",small:"",disabled:!e.iobrokerConfigChanged,dense:"",tooltip:"Save settings and close config",label:"Save&Close",img:"mdi-content-save-move"},on:{click:function(t){t.stopPropagation(),e.saveAdapterConfig(null).then((function(t){return e.closeAdapterConfig()}))}}}),i("fjB",{attrs:{text:"",small:"",dense:"",tooltip:"cancel and close config",label:"Cancel",img:"mdi-close"},on:{click:function(t){return t.stopPropagation(),e.closeAdapterConfig(t)}}})],1),i("v-content",{staticClass:"flex-wrap",attrs:{id:"MyAppContent"}},[i("fjB",{staticClass:"ma-1",attrs:{label:"getEnums"},on:{click:function(t){e.getEnums("").then((function(t){return e.setTmp(t)}))}}}),i("fjB",{staticClass:"ma-1",attrs:{label:"getGroups"},on:{click:function(t){e.getGroups().then((function(t){return e.setTmp(t)}))}}}),i("fjB",{staticClass:"ma-1",attrs:{label:"getUsers"},on:{click:function(t){e.getUsers().then((function(t){return e.setTmp(t)}))}}}),i("fjB",{staticClass:"ma-1",attrs:{label:"config"},on:{click:function(t){return e.setTmp(e.iobrokerConfig)}}}),i("fjB",{staticClass:"ma-1",attrs:{label:"configtool"},on:{click:function(t){return e.setTmp(e.configTool)}}}),i("fjB",{staticClass:"ma-1",attrs:{label:"getExtendableInstances"},on:{click:function(t){e.getExtendableInstances().then((function(t){return e.setTmp(t)}))}}}),i("fjB",{staticClass:"ma-1",attrs:{label:"getAdapterInstances"},on:{click:function(t){e.getAdapterInstances().then((function(t){return e.setTmp(t)}))}}}),i("fjB",{staticClass:"ma-1",attrs:{label:"getState"},on:{click:function(t){e.getState("acceptdata.0.easyweather.outdoorTemp").then((function(t){return e.setTmp(t)}))}}}),i("fjB",{staticClass:"ma-1",attrs:{label:"getObject"},on:{click:function(t){e.getObject("acceptdata.0.easyweather.outdoorTemp").then((function(t){return e.setTmp(t)}))}}}),i("fjB",{staticClass:"ma-1",attrs:{label:e.$tc("getMissing",2)},on:{click:function(t){return e.setTmp(e.$missing)}}}),i("fjB",{staticClass:"ma-1",attrs:{label:"alerttest"},on:{click:function(t){return e.$alert("0|error:Forever")}}}),i("v-container",{attrs:{fluid:""}},[i("v-row",{staticClass:"px-2"},e._l(e.configPage.items,(function(t,o){return i("fjConfigElement",{key:o,attrs:{cItem:e.iobrokerConfig,cToolItem:t}})})),1)],1),i("code",{staticClass:"error--text text--darken-4",domProps:{textContent:e._s(e.tmptext)}})],1),i("fjConfirm")],1)},l=[];const c={filters:{nFormat:(e,t,o)=>{if(void 0!==o||"object"!==typeof t&&"string"!==typeof t?o?"string"===typeof o&&void 0!==t&&(o={postfix:o}):o={}:(o=t,t=void 0),"string"===typeof o){const e=o.match(/^([.,?]?)(\d+)?(\;?)(\-[^\+]+)?\+?(.*)$/);o={},e&&(t=void 0===e[2]&&void 0===t?0:Number(e[2]),e[1]&&(o.decimalPoint=e[1]),o.sepThousands=!!e[3],e[4]&&e[4].startsWith("-")?o.prefix=e[4].slice(1):o.prefix="",o.postfix=e[5])}if(void 0!==t?isNaN(Number(t))||(t=Number(t)):t=Number(o.digits),(void 0===t||isNaN(t))&&(t=0),o.digits&&!isNaN(Number(o.digits))&&(t=Number(o.digits)),"?"===o.decimalPoint&&(o.decimalPoint="en"==mylang?".":","),e=Number(e),e=isNaN(e)?"":e.toFixed(t).toString(),o.decimalPoint&&(e=e.replace(".",o.decimalPoint)),o.sepThousands){const t=","===o.decimalPoint?".":",",i=","===t?".":",",n=e.split(i);e=n[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+t),n[1]&&(e+=i+n[1].replace(/(\d{3})(?=\d)/g,"$1"+t))}return o.prefix&&(e=o.prefix+" "+e),o.postfix&&(e+=" "+o.postfix),e}},methods:{async Presolve(e){return Promise.resolve(e)},async wait(e,t){return e=Number(e)||0,(isNaN(e)||e<0)&&(e=0),await new Promise(o=>setTimeout(()=>o(t),e))},async pSequence(e,t,o){o=o||0,Array.isArray(e)||"object"!==typeof e||(e=Object.entries(e).filter(t=>e.hasOwnProperty(t[0])));const i=[];for(let a of e){i.length&&await this.wait(o);try{const e=await t(a);i.push(e)}catch(n){i.push(n)}}return i},numberFormat(e,...t){return this.$options&&this.$options.filters&&this.$options.filters["nFormat"]?this.$options.filters["nFormat"](e,...t):e},convCsv(e,t){function o(e,t,o){t=t||",",o=o||'"';for(var i=e.split(t),n=[],a=0;a<i.length;++a)if(i[a].indexOf(o)>=0){for(var r=-1,s=i[a],l=a+1;l<i.length;++l)if(i[l].indexOf(o)>=0){r=l;break}if(-1!=r){for(l=a+1;l<=r;++l)s=s+t+i[l];n.push(s),a=r}else n.push(i[a])}else n.push(i[a]);return n}const{sep:i,lineSep:n,noHeader:a,quotes:r}=Object.assign({sep:",",lineSep:"\n",quotes:'"'},t||{});e=e||"";const s=e.split(n).map(e=>e.trim()),l=o(s[0],i,r).map((e,t)=>a?t:e.trim()),c={};for(let p=a?0:1;p<s.length;p++){const e=o(s[p],i,r).map(e=>e.trim());for(let t=0;t<l.length;t++){const o=l[t];if(o){c[o]||(c[o]=[]);const i=c[o],n=e[t];i[a?p:p-1]="0"===n||Number(n)?Number(n):n}}}return c}}};var p=c,u=o("9224"),d=o("33d7");const m=(navigator.language||navigator.userLanguage).slice(0,2),f={path:location.pathname,instance:window.location.search},h={data(){return{iobrokerConfigOrig:"",iobrokerLang:m||"en",iobrokerInstance:window.location.search.slice(1),iobrokerConfig:d.native,ioBrokerSystemConfig:{},iobrokerAdapter:d.common.name,iobrokerPackage:u,iobrokerIoPackage:d,iobrokerAdapterCommon:d.common,ioBrokerCerts:[],socketConnected:!1,configTool:d.configTool,brEnv:f}},sockets:{async connect(){return this.socketConnected=!0,this.$alert("socket connected..."),await this.wait(10),this.loadIoBroker()},disconnected(){this.socketConnected=!0,this.$alert("socket disconnected...")}},computed:{ioBrokerCompareConfig(){return JSON.stringify(this.iobrokerConfig)},iobrokerConfigChanged(){return this.iobrokerConfigOrig!=this.ioBrokerCompareConfig}},watch:{configTool(e){const t=this;function o(e){const i=Object.getOwnPropertyNames(e);if(!e._isTranslated){for(const o of i)["label","text","html","tooltip","placeholder","hint"].indexOf(o)>=0&&(e[o]=t.$t(e[o]));if(Array.isArray(e.items))for(const t of e.items)o(t);e._isTranslated=!0}}for(const i of e)o(i)}},methods:{async loadIoBroker(){await this.loadSystemConfig(),this.$i18n.locale=this.iobrokerLang;var e=window.location.search.slice(1);return e||(this.iobrokerInstance=this.iobrokerAdapter+".0"),this.getAdapterConfig()},setIobrokerConfig(e){this.iobrokerConfig=e,this.iobrokerConfigOrig=JSON.stringify(e)},async getAdapterConfig(){const e=await this.socketEmit("getObject","system.adapter."+this.iobrokerInstance);this.setIobrokerConfig(e.native),e.configTool&&e.configTool.length&&(this.configTool=e.configTool),this.$alert("new config received"),await this.wait(100),this.$forceUpdate()},async saveAdapterConfig(e){const t=this.iobrokerConfig,o="system.adapter."+this.iobrokerInstance,i=await this.socketEmit("getObject",o)||{};if(i.native)i.native={};else if(!e)return null;for(var n in t)t.hasOwnProperty(n)&&(i.native[n]=t[n]);if(e)for(var a in Object.getOwnPropertyNames(e))i.common[a]=e[a];return await this.socketEmit("setObject",o,i).then(e=>this.$alert("config saved"),e=>this.$alert("error:Save config error "+e)),this.setIobrokerConfig(t),await this.wait(10),!0},async closeAdapterConfig(){const e=!this.iobrokerConfigChanged||await this.$confirm("okColor=error darken-2|Really exit without saving?");return e&&this.$alert("close now "+e),e},async getObject(e){return this.socketEmit("getObject",e).then(e=>e,e=>(console.log(e),null))},async getState(e){return this.socketEmit("getState",e).then(e=>e,e=>(console.log(e),null))},async getEnums(e){return this.socketEmit("getObjectView","system","enum",{startkey:"enum."+e,endkey:"enum."+e+".香"}).then(t=>{for(var o={},i=0;i<t.rows.length;i++)t.rows[i].id!=="enum."+e&&(o[t.rows[i].id]=t.rows[i].value);return o},e=>(console.log(e),[]))},async getGroups(){return this.socketEmit("getObjectView","system","group",{startkey:"system.group.",endkey:"system.group.香"}).then(e=>{for(var t={},o=0;o<e.rows.length;o++)t[e.rows[o].id]=e.rows[o].value;return t},e=>(console.log(e),[]))},async getUsers(){return this.socketEmit("getObjectView","system","user",{startkey:"system.user.",endkey:"system.user.香"}).then(e=>{for(var t={},o=0;o<e.rows.length;o++)t[e.rows[o].id]=e.rows[o].value;return t},e=>(console.log(e),[]))},async getAdapterInstances(e){return e=e||this.iobrokerAdapter,this.socketEmit("getObjectView","system","instance",{startkey:"system.adapter."+e,endkey:"system.adapter."+e+".香"}).then(e=>{for(var t=[],o=0;o<e.rows.length;o++)t.push(e.rows[o].value);return t},e=>(console.log(e),[]))},async getExtendableInstances(e){return e=e||this.iobrokerAdapter,this.socketEmit("getObjectView","system","instance",null).then(e=>{for(var t=[],o=0;o<e.rows.length;o++)e.rows[o].value.common.webExtendable&&t.push(e.rows[o].value);return t},e=>(console.log(e),[]))},async loadSystemConfig(){let e=await this.socketEmit("getObject","system.config").then(e=>e,e=>(console.log(e),null));if(e&&e.common&&(this.ioBrokerSystemConfig=e,this.iobrokerLang=e.common.language||this.iobrokerLang),e=await this.socketEmit("getObject","system.certificates").then(e=>e,e=>(console.log(e),null)),e&&e.native&&e.native.certificates)for(var t in this.ioBrokerCerts=[],e.native.certificates)if(e.native.certificates.hasOwnProperty(t)&&e.native.certificates[t])if(e.native.certificates[t].length<700&&(-1!==e.native.certificates[t].indexOf("/")||-1!==e.native.certificates[t].indexOf("\\"))){var o={name:t,type:""};-1!==t.toLowerCase().indexOf("private")||-1!==e.native.certificates[t].toLowerCase().indexOf("private")?o.type="private":(-1!==t.toLowerCase().indexOf("public")||-1!==e.native.certificates[t].toLowerCase().indexOf("public"))&&(o.type="public"),this.ioBrokerCerts.push(o)}else{var i={name:t,type:"-----BEGIN RSA PRIVATE KEY"===e.native.certificates[t].substring(0,"-----BEGIN RSA PRIVATE KEY".length)||"-----BEGIN PRIVATE KEY"===e.native.certificates[t].substring(0,"-----BEGIN PRIVATE KEY".length)?"private":"public"};if("public"===i.type){for(var n=e.native.certificates[t].split("-----END CERTIFICATE-----"),a=0,r=0;r<n.length;r++)n[r].replace(/\r\n|\r|\n/,"").trim()&&a++;a>1&&(i.type="chained")}this.ioBrokerCerts.push(i)}}}};var v=h;var b={name:"App",mixins:[p,v],data:()=>({path:path,parts:parts,page:0,tmptext:""}),methods:{setTmp(e,t){const o=JSON.stringify(e,null,2);t?this.tmptext+=o:this.tmptext=o}},computed:{configPage(){return this.configTool[this.page]}},mounted(){!this.iobrokerConfigOrig&&this.socketConnected&&this.loadIoBroker(),this.setTmp(this.brEnv,!0)}},g=b,y=(o("4907"),o("2877")),k=o("6544"),x=o.n(k),w=o("7496"),T=o("40dc"),_=o("a523"),C=o("a75b"),I=o("132d"),j=o("adda"),O=o("0fd9"),$=o("2fa4"),A=o("71a3"),S=o("fe57"),N=Object(y["a"])(g,s,l,!1,null,null,null),E=N.exports;x()(N,{VApp:w["a"],VAppBar:T["a"],VContainer:_["a"],VContent:C["a"],VIcon:I["a"],VImg:j["a"],VRow:O["a"],VSpacer:$["a"],VTab:A["a"],VTabs:S["a"]});var P=o("a925");function B(){const e=o("49f8"),t={};return e.keys().forEach(o=>{const i=o.match(/([A-Za-z0-9-_]+)\./i);if(i&&i.length>1){const n=i[1];t[n]=e(o)}}),t}i["a"].use(P["a"]);var V=new P["a"]({locale:"en",fallbackLocale:"en",messages:B(),silentTranslationWarn:!0}),M=o("cda3"),F=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"resize",rawName:"v-resize",value:e.resize,expression:"resize"}]},[e.items.length?o("v-menu",{attrs:{dense:"",value:!0,"offset-y":"","position-x":e.posx,"position-y":e.posy,"close-on-content-click":!1,"close-on-click":!1,mode:"out-in",transition:"scale-transition"}},e._l(e.items,(function(t,i){return o("transition",{key:i,attrs:{name:"slide-fade"}},[o("v-alert",{staticClass:"ma-2",attrs:{mode:"in-out",origin:"transform-origin: -100% 50%;",border:"top","colored-border":"",color:t.color,dense:"",type:t.type,label:t.label,elevation:"5"},scopedSlots:e._u([{key:"append",fn:function(){return[o("fjB",{staticClass:"ml-2",attrs:{small:"",right:e.label,icon:!e.label,text:"",label:e.$t(e.label),img:"mdi-close"},on:{click:function(t){return t.stopPropagation(),e.deleteAlert(i)}}})]},proxy:!0}],null,!0)},[o("span",{staticClass:"body-2",domProps:{innerHTML:e._s(e.$t(t.text))}})])],1)})),1):e._e(),e._t("default")],2)},R=[],L={name:"fjAlerts",props:{selector:{type:String,default:""},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},timeout:{type:Number,default:6}},data(){return{posx:0,posy:0,idCount:0,items:[],label:""}},methods:{addAlert(e){const t=this,o={warning:10,error:20,info:4,success:5,primary:6,[void 0]:3};if(e=e||{},"string"===typeof e){let t=e.trim();const i=t.match(/^(?:(\d*(?=\|))?\|?(warning|error|info|success|primary)\:)?(.*)$/i);e=i?{label:"",timeout:i[1]?Number(i[1]):o[i[2]],text:i[3],type:i[2]||"primary"}:{text:t,color:"primary lighten-4"}}if("primary"===e.type&&(e.type=null,e.color||(e.color="primary lighten-2")),!e.text&&e.tt&&(e.text=this.$dictionary.translate(e.tt)),e=Object.assign({timeout:this.timeout,id:this.idCount++,text:"<>"},e),e.label&&(this.label=e.label),e.timeout){const o=e.id;e.hastimeout=setTimeout(i=>{e.hastimeout=null;const n=t.items.findIndex(e=>e.id===o);n>=0&&t.items.splice(n,1)},1e3*e.timeout)}return this.items.push(e),Promise.resolve(null)},deleteAlert(e){this.items[e].hastimeout&&(clearTimeout(this.items[e].hastimeout),this.items[e].hastimeout=null),this.items.splice(e,1)},random(e,t){return Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:"number"===typeof t?Math.random()*(t-e)+e:"number"===typeof e?Math.random()*e:Math.random()},resize(){const e=this.$el;this.posx=e.getBoundingClientRect().left+this.offsetX,this.posy=e.getBoundingClientRect().bottom+this.offsetY}},created(){i["a"].prototype.$alert=this.addAlert.bind(this)},beforeDestroy(){while(this.items.length>0)this.deleteAlert(0)},mounted(){this.$nextTick(e=>this.resize())}},D=L,J=(o("4113"),o("0798")),z=o("e449"),U=o("269a"),q=o.n(U),G=o("dc22"),H=Object(y["a"])(D,F,R,!1,null,null,null),K=H.exports;x()(H,{VAlert:J["a"],VMenu:z["a"]}),q()(H,{Resize:G["a"]});var W=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-dialog",{style:{zIndex:e.options.zIndex},attrs:{"max-width":e.options.width},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel(t)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:e.options.color,dense:"",flat:""}},[o("v-toolbar-title",{directives:[{name:"t",rawName:"v-t",value:e.options.title,expression:"options.title"}],staticClass:"white--text"})],1),o("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!e.options.message,expression:"!!options.message"}],staticClass:"pa-4",domProps:{innerHTML:e._s(e.$t(e.options.message))}}),o("v-card-actions",{staticClass:"pt-0"},[o("v-spacer"),o("v-btn",{attrs:{color:e.options.okColor,text:""},nativeOn:{click:function(t){return e.agree(t)}}},[e.options.okIcon?o("v-icon",{attrs:{left:""},domProps:{textContent:e._s(e.options.okIcon)}}):e._e(),o("span",{directives:[{name:"t",rawName:"v-t",value:e.options.okText,expression:"options.okText"}]})],1),o("v-btn",{attrs:{color:e.options.cancelColor,text:""},nativeOn:{click:function(t){return e.cancel(t)}}},[o("span",{directives:[{name:"t",rawName:"v-t",value:e.options.cancelText,expression:"options.cancelText"}]}),e.options.cancelIcon?o("v-icon",{attrs:{right:""},domProps:{textContent:e._s(e.options.cancelIcon)}}):e._e()],1)],1)],1)],1)},Y=[],X={data:()=>({dialog:!1,resolve:null,options:{}}),props:{defaults:{type:Object,default:()=>({})}},methods:{open(e,t){const o={color:"primary",cancelColor:"grey darken-1",okColor:"success darken-1",okText:"Yes",okIcon:"mdi-check",cancelIcon:"mdi-close",cancelText:"No",message:"",title:"",width:390,zIndex:200};if(t=t||{},!t.title&&e.indexOf("|")>0){const i=e.indexOf("|");t.message=e.slice(i+1);const n=e.slice(0,i).split(",").map(e=>e.trim().split("=").map(e=>e.trim())),a=Object.keys(o).map(e=>e.toLowerCase());let r;for(r of n){const e=r[0],i=r[1],n=a.indexOf(e.toLowerCase());e&&n>=0&&(t[Object.keys(o)[n]]=void 0===i||(Number(i)?Number(i):i))}}else t.message=e;t.title||(t.title="Please confirm:"),this.title=t.title,this.message=t.message;const i=Object.assign({},o,this.defaults,t);return this.options=Object.assign({},this.options,i),this.dialog=!0,new Promise(e=>{this.resolve=e})},agree(){this.$nextTick().then(e=>this.resolve(!0)),this.dialog=!1},cancel(){this.$nextTick().then(e=>this.resolve(!1)),this.dialog=!1}},created(){i["a"].prototype.$confirm=this.open.bind(this)}},Z=X,Q=o("8336"),ee=o("b0af"),te=o("99d9"),oe=o("169a"),ie=o("71d9"),ne=o("2a7f"),ae=Object(y["a"])(Z,W,Y,!1,null,null,null),re=ae.exports;x()(ae,{VBtn:Q["a"],VCard:ee["a"],VCardActions:te["a"],VCardText:te["b"],VDialog:oe["a"],VIcon:I["a"],VSpacer:$["a"],VToolbar:ie["a"],VToolbarTitle:ne["a"]});var se=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.nCols?o("v-col",{staticClass:"pa-1",attrs:{cols:e.nCols}},[e._l(e.nRuler,(function(e,t){return o("fjConfigRuler",{key:t,attrs:{ruler:e}})})),e.cToolItem.type?o("fjConfigItem",{attrs:{cToolItem:e.nToolItem,cItem:e.cItem}}):e._e()],2):o("span",[e._l(e.nRuler,(function(e,t){return o("fjConfigRuler",{key:t,attrs:{ruler:e}})})),e.cToolItem.type?o("fjConfigItem",{attrs:{cToolItem:e.nToolItem,cItem:e.cItem}}):e._e()],2)},le=[],ce=function(){var e=this,t=e.$createElement,o=e._self._c||t;return"text"==e.cToolItem.type?o("v-flex",e._b({},"v-flex",e.attrs("html,text,label"),!1),[e.cToolItem.label?o("div",{staticClass:"subtitle-2",domProps:{textContent:e._s(e.cToolItem.label)}}):e._e(),e.cToolItem.text?o("div",{staticClass:"caption",domProps:{textContent:e._s(e.cToolItem.text)}}):e._e(),e.cToolItem.html?o("div",{staticClass:"caption",domProps:{innerHTML:e._s(e.cToolItem.html)}}):e._e()]):"number"==e.cToolItem.type?o("v-text-field",e._b({attrs:{dense:"","hide-details":"auto"},model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-text-field",e.attrs("min,max"),!1)):"string"==e.cToolItem.type?o("v-text-field",e._b({attrs:{dense:"","hide-details":"auto"},model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-text-field",e.attrs(),!1)):"checkbox"==e.cToolItem.type&&e.cToolItem.label?o("v-checkbox",e._b({attrs:{dense:"","hide-details":"auto"},model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-checkbox",e.attrs(),!1)):"select"==e.cToolItem.type?o("v-select",e._b({attrs:{items:e.cToolItem.select,dense:""},model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-select",e.attrs(),!1)):"textarea"==e.cToolItem.type?o("v-textarea",e._b({staticStyle:{"font-family":"monospace !important","font-size":"14px"},attrs:{"auto-grow":"","row-height":"15","hide-details":"auto",rows:e.cItem[e.cToolItem.value].split("\n").length,dense:""},model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-textarea",e.attrs(),!1)):"chips"==e.cToolItem.type?o("v-combobox",e._b({attrs:{items:e.cToolItem.select||[],chips:"",dense:"","hide-details":"auto","deletable-chips":"","search-input":e.search,multiple:""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-combobox",e.attrs(),!1)):"table"==e.cToolItem.type?o("fjConfigTable",e._b({attrs:{columns:e.cToolItem.items,items:e.cItem[e.cToolItem.value]}},"fjConfigTable",e.attrs(),!1)):"checkbox"!=e.cToolItem.type||e.cToolItem.label?"switch"==e.cToolItem.type?o("v-switch",e._b({attrs:{dense:"","hide-details":"auto"},model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-switch",e.attrs(),!1)):o("div",e._b({},"div",e.attrs(),!1),[e._v(" "+e._s(e.cToolItem)+" "+e._s(e.cToolItem.value?e.cItem[e.cToolItem.value]:"")+" ")]):o("v-simple-checkbox",e._b({model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-simple-checkbox",e.attrs(),!1))},pe=[],ue={name:"fjConfigItem",data(){return{search:null}},props:{cToolItem:{type:Object,default:()=>({type:"none"})},cItem:{type:Object,default:()=>({})},cTable:{type:Object,default:()=>({})}},methods:{removeChip(e){this.cItem[this.cToolItem.value].splice(this.cItem[this.cToolItem.value].indexOf(e),1)},numberRule(e){const t=Number(e);return isNaN(t)?this.$t("You can enter only a number here!"):void 0!=this.cToolItem.min&&t<this.cToolItem.min?this.$t("Number should not be lower than ")+this.cToolItem.min:!(void 0!=this.cToolItem.max&&t>this.cToolItem.max)||this.$t("Number should not be bigger than ")+this.cToolItem.min},uniqueTableRule(e){const{items:t,index:o,column:i}=this.cTable,n=(""+e).trim(),a=i.value,r=t.filter((e,t)=>t!=o&&(""+e[a]).trim()==n);return!r.length||"This item can only be once per table in this field!"},attrs(e){const t=["type","value","attrs","min","max"];e&&("string"===typeof e?t.push(...e.split(",").map(e=>e.trim())):Array.isArray(e)&&t.push(...e));const o=Object.assign({},this.cToolItem.attrs?this.cToolItem.attrs:{class:"pa-1"},this.cToolItem),i=o.rules,n=[];if(i&&i.length){for(let e in i){let t=i[e];"function"==typeof t?n.push(t):"string"==typeof t&&t.trim()&&(t=t.trim(),"function"==typeof this[t]?n.push(this[t].bind(this)):n.push(new Function("$",t.startsWith("return ")||t.startsWith("{")?t:`return ${t};`)))}o.rules=n}for(let a of t)delete o[a];for(let a of["text","label","placeholder","hint"])"string"==typeof o[a]&&(o[a]=this.$t(o[a]));return o}}},de=ue,me=o("ac7c"),fe=o("2b5d"),he=o("0e8f"),ve=o("b974"),be=o("9e88"),ge=o("b73d"),ye=o("8654"),ke=o("a844"),xe=Object(y["a"])(de,ce,pe,!1,null,null,null),we=xe.exports;x()(xe,{VCheckbox:me["a"],VCombobox:fe["a"],VFlex:he["a"],VSelect:ve["a"],VSimpleCheckbox:be["a"],VSwitch:ge["a"],VTextField:ye["a"],VTextarea:ke["a"]});var Te=function(){var e=this,t=e.$createElement,o=e._self._c||t;return"hr"==e.type||"line"==e.type?o("v-col",{attrs:{cols:"12"}},[o("v-divider",{class:"py-"+e.value})],1):"horizontal"==e.type?o("v-col",{class:"py-"+e.value,attrs:{cols:"12"}},[o("v-spacer")],1):"vertical"==e.type?o("v-divider",{class:"px-"+e.value,attrs:{vertical:""}}):o("v-spacer")},_e=[],Ce={name:"fjConfigRuler",data(){return{}},props:{ruler:{type:Array,default:()=>[]}},computed:{type(){return this.ruler[0]},value(){return this.ruler[1]}}},Ie=Ce,je=o("62ad"),Oe=o("ce7e"),$e=Object(y["a"])(Ie,Te,_e,!1,null,null,null),Ae=$e.exports;x()($e,{VCol:je["a"],VDivider:Oe["a"],VSpacer:$["a"]});var Se=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"pa-0 elevation-2"},[o("v-toolbar",{attrs:{dark:"",height:"36",color:"primary"}},[e.icon?o("v-icon",{attrs:{left:""}},[e._v(e._s(e.icon))]):e._e(),o("v-toolbar-title",{staticClass:"subtitle-2"},[e._v(e._s(e.label))]),o("v-spacer"),o("v-text-field",{staticClass:"body-1",attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("v-spacer"),o("fjB",{attrs:{text:"",small:"",label:"Add entry",img:"mdi-playlist-plus"},on:{click:e.addRow}})],1),o("v-data-table",{attrs:{dense:"",headers:e.icolumns,items:e.items,search:e.search,disableSort:e.disableSort},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.headers,a=t.index;return[o("tr",{staticClass:"alternate"},e._l(n,(function(t){return o("td",{key:t.value,staticStyle:{padding:"0px 1px 0px 1px"}},["-"==t.value?o("span",{staticClass:"d-flex justify-end"},[e.disableSort?o("fjB",{attrs:{disabled:!a,color:"primary darken-4",img:"mdi-transfer-up",tooltip:"move item one line up"},on:{click:function(t){return t.stopPropagation(),e.itemMove(a,-1)}}}):e._e(),e.disableSort?o("fjB",{attrs:{color:"primary darken-4",disabled:a>=e.items.length-1,img:"mdi-transfer-down",tooltip:"move item one line down"},on:{click:function(t){return t.stopPropagation(),e.itemMove(a,1)}}}):e._e(),o("fjB",{attrs:{img:"mdi-delete-forever",color:"error darken-4",tooltip:"delete item"},on:{click:function(t){return t.stopPropagation(),e.itemDelete(a)}}})],1):o("fjConfigItem",{attrs:{cItem:i,cToolItem:t,cTable:e.cTable(a,t)}})],1)})),0)]}}])})],1)},Ne=[],Ee={name:"fjConfigTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0},label:{type:String,required:!1,default:""},icon:{type:String,required:!1,default:"mdi-table"},disableSort:{type:Boolean,required:!1,default:!1}},data:()=>({search:""}),methods:{async itemDelete(e){return this.$confirm(`Do you really want to delete item[${e}]`).then(t=>this.items.splice(e,1))},itemMove(e,t){const o=this.items.splice(e,1);this.items.splice(e+t,0,o[0])},numberRule(e){const t=Number(e);return isNaN(t)?this.$t("You can enter only a number here!"):void 0!=this.cToolItem.min&&t<this.cToolItem.min?this.$t("Number should not be lower than ")+this.cToolItem.min:!(void 0!=this.cToolItem.max&&t>this.cToolItem.max)||this.$t("Number should not be bigger than ")+this.cToolItem.min},cTable(e,t){return{items:this.items,index:e,column:t}},addRow(){let e={};this.columns.forEach((t,o)=>{e[t.value]=void 0!==t.default?t.default:{text:"",string:"",textarea:"",number:0,select:t.select&&t.select.find(e=>void 0!=e)||"",checkbox:!1,chips:[]}[t.type]||""}),this.items.push(e),this.snackText="Added Row."}},computed:{icolumns(){return[...this.columns,{text:"Edit",value:"-",align:"center",width:this.searchDisabled?"10%":"5%"}]}}},Pe=Ee,Be=(o("d1dc"),o("8fea")),Ve=Object(y["a"])(Pe,Se,Ne,!1,null,null,null),Me=Ve.exports;x()(Ve,{VDataTable:Be["a"],VIcon:I["a"],VSpacer:$["a"],VTextField:ye["a"],VToolbar:ie["a"],VToolbarTitle:ne["a"]}),i["a"].component("fjConfigItem",we),i["a"].component("fjConfigRuler",Ae),i["a"].component("fjConfigTable",Me);var Fe={name:"fjConfigElement",data(){return{nToolItem:{},nRuler:[],nCols:0}},props:{cToolItem:{type:Object,default:()=>({type:"none"})},cItem:{type:Object,default:()=>({})}},created(){const e=Object.assign({},this.cToolItem);let{ruler:t,cols:o,rcols:i}=e;delete e.ruler,delete e.cols,this.nToolItem=e,this.nCols=o,t=t&&t.split("|").map(e=>(e=e&&e.trim().split("=").map(e=>e.trim())||[],1==e.length&&e.push(1),e)),this.nRuler=t||[]}},Re=Fe,Le=Object(y["a"])(Re,se,le,!1,null,null,null),De=Le.exports;x()(Le,{VCol:je["a"]});var Je=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("fjB",e._b({class:e.over?e.dropclass:"",attrs:{label:e.over?e.droplabel:e.label,loading:e.loading,disabled:e.loading},on:{click:function(t){return t.stopPropagation(),e.triggerLoad(t)}}},"fjB",e.$attrs,!1),[o("input",{staticStyle:{display:"none"},attrs:{type:"file",id:e.myId},on:{change:e.loadTextFromFile}})])},ze=[],Ue=o("ec67"),qe=Ue["a"],Ge=Object(y["a"])(qe,Je,ze,!1,null,null,null),He=Ge.exports,Ke=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("fjB",e._b({on:{click:function(t){return e.saveFile(e.content,e.opts,t)}}},"fjB",e.$attrs,!1))},We=[],Ye=o("21a6"),Xe=o("4eb5"),Ze=o.n(Xe);i["a"].use(Ze.a);var Qe={name:"fjFileSaveButton",components:{fjB:M["a"]},props:{content:{type:Object,default:()=>"empty file!"},opts:{type:Object,default:()=>({type:"JSON"})}},computed:{},methods:{consoleLog(...e){console.log(...e)},doCopyClipboard(e){const t=this;return e?("string"!==typeof e&&(e=JSON.stringify(e,null,2)),this.$copyText(e).then(e=>{t.$alert("2|success:Copied to clipboard!")},e=>{t.$alert("warning:Cannot copy!")})):Promise.resolve()},exportFile(e,t){if(void 0===e||null===e)return{str:""};t=t||{type:"string"===typeof e?"Text":"JSON"};let{type:o,addAtStart:i,addAtEnd:n,saveWithJSON:a,name:r,fileName:s,basename:l,skippedAfterEnd:c,skippedAtStart:p}=t;const u={JSON:{stringify:!0,ending:".json",mime:"application/json"},Javascript:{stringify:!0,ending:".js",mime:"application/javascript"},Text:{ending:".txt",mime:"text/plain"}};let{stringify:d,ending:m,mime:f}=u[o]||u.Text;d=d||a,r||(r=s||(l||"file")+m),i=("!"===i?p:i&&i.split("\\n").join("\n"))||"",n=("!"===n?c:n&&n.split("\\n").join("\n"))||"";const h=i+(d?JSON.stringify(e,null,2):e)+n;return{name:r,str:h,mime:f,ending:m}},saveFile(e,t,o){const{mime:i,str:n,name:a}=this.exportFile(e,t);if(!i)return Promise.reject("invalid value to save!");if(o.shiftKey)return o.preventDefault(),o.str=n.toString(),this.doCopyClipboard(o.str),!1;const r=new Blob([n],{type:i+";charset=utf-8"});return Object(Ye["saveAs"])(r,a)}},created(){"function"!=typeof this.$alert&&(i["a"].prototype.$alert=this.consoleLog)},mounted(){}},et=Qe,tt=Object(y["a"])(et,Ke,We,!1,null,null,null),ot=tt.exports,it=o("8055"),nt=o.n(it),at=o("5132"),rt=o.n(at);const st={path:"/socket.io"},lt=!1,ct=lt?"ws://vmraspi:8081":"/",pt=nt()(ct,st),ut=((navigator.language||navigator.userLanguage).slice(0,2),function(e,t){e.mixin({methods:{async socketEmit(e,...t){return new Promise((o,i)=>{let n=setTimeout(()=>i(new Error("Timeout SocketIo Response to "+e+": "+t),n=null),5e3);this.$socket.emit(e,...t,(a,r)=>{if(!n)return i("Timeout");clearTimeout(n),a||!r?i(a||new Error("No result for: "+e+": "+t)):o(r)})})}}})});i["a"].use(new rt.a({debug:lt,connection:pt}));var dt=ut;i["a"].component("fjB",M["a"]),i["a"].component("fjAlerts",K),i["a"].component("fjConfirm",re),i["a"].component("fjConfigElement",De),i["a"].component("fjFileLoadButton",He),i["a"].component("fjFileSaveButton",ot),i["a"].config.productionTip=!1,i["a"].use(dt,{}),i["a"].prototype.$alert=function(...e){console.log(...e)};const mt={};i["a"].prototype.$missing=mt,V.missing=(e,t,o)=>((!mt[t]||mt[t].indexOf(e)<0)&&(mt[t]?mt[t].push(e):mt[t]=[e]),t),new i["a"]({vuetify:r,i18n:V,render:function(e){return e(E)}}).$mount("#app")},"6ce2":function(e){e.exports=JSON.parse("{}")},7578:function(e,t,o){var i=o("24fb");t=i(!1),t.push([e.i,"td,th,th[role=columnheader]{padding:0 1px;border-left:1px dotted #ddd}tr.alternate:nth-child(2n){background:#e3f2fd}.v-text-field{padding-top:0;margin-top:4px}",""]),e.exports=t},9224:function(e){e.exports=JSON.parse('{"name":"iobroker.acceptdata","version":"0.2.1","description":"Accept Data can be used as a destination for devices which generate data and can post it to a device on a network in JSON or URL format","author":{"name":"frankjoke","email":"frankjoke@hotmail.com"},"scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","lint":"vue-cli-service lint","i18n:report":"vue-cli-service i18n:report --src \\"./src/**/*.?(js|vue)\\" --locales \\"./src/locales/**/*.json\\"","test:js":"mocha --opts test/mocha.custom.opts","test:package":"mocha test/package --exit","test:unit":"mocha test/unit --exit","test:integration":"mocha test/integration --exit","test":"npm run test:js && npm run test:package","eslint":"eslint"},"contributors":[{"name":"AlCalzone"},{"name":"bluefox"}],"homepage":"https://github.com/frankjoke/ioBroker.acceptdata","license":"MIT","keywords":["JSON","URL","GET","POST"],"repository":{"type":"git","url":"https://github.com/frankjoke/ioBroker.acceptdata"},"dependencies":{"@iobroker/adapter-core":"^2.3.1","express":"^4.17.1"},"devDependencies":{"@iobroker/testing":"^2.2.0","@mdi/font":"^5.1.45","@types/chai":"^4.2.11","@types/chai-as-promised":"^7.1.2","@types/gulp":"^4.0.6","@types/mocha":"^7.0.2","@types/node":"^13.13.2","@types/proxyquire":"^1.3.28","@types/sinon":"^9.0.0","@types/sinon-chai":"^3.2.4","@vue/cli-plugin-eslint":"^4.3.1","@vue/cli-service":"^4.3.1","@vue/eslint-config-prettier":"^6.0.0","axios":"^0.19.2","babel-eslint":"^10.1.0","chai":"^4.2.0","chai-as-promised":"^7.1.1","eslint":"^6.8.0","eslint-plugin-prettier":"^3.1.3","eslint-plugin-vue":"^6.2.2","file-saver":"^2.0.2","gulp":"^4.0.2","mocha":"^7.1.1","prettier":"^2.0.5","proxyquire":"^2.1.3","sass":"^1.26.3","sass-loader":"^8.0.2","sinon":"^9.0.2","sinon-chai":"^3.5.0","socket.io":"^2.3.0","socket.io-client":"^2.3.0","typeface-roboto":"0.0.75","vue":"^2.6.11","vue-cli-plugin-i18n":"^0.6.1","vue-cli-plugin-vuetify":"^2.0.5","vue-clipboard2":"^0.3.1","vue-i18n":"^8.17.3","vue-socket.io":"^3.0.7","vue-template-compiler":"^2.6.11","vuetify":"^2.2.23","vuetify-loader":"^1.4.3"},"main":"acceptdata.js","bugs":{"url":"https://github.com/frankjoke/ioBroker.acceptdata/issues"},"readmeFilename":"README.md","eslintConfig":{"root":true,"env":{"browser":true,"node":true},"extends":["plugin:vue/essential","@vue/prettier"],"rules":{"double":0,"isable-next-line":0},"parserOptions":{"parser":"babel-eslint"}}}')},a306:function(e){e.exports=JSON.parse("{}")},bd4b:function(e,t,o){var i=o("4404");"string"===typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);var n=o("499e").default;n("65b1c1b8",i,!0,{sourceMap:!1,shadowMode:!1})},cbf9:function(e,t,o){e.exports=o.p+"img/acceptdata.7d9f4151.png"},cda3:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.label||void 0!=e.bAttrs.icon?o("v-btn",e._b({attrs:{id:e.myUid},on:{click:function(t){return t.stopPropagation(),e.click(t)}}},"v-btn",e.bAttrs,!1),[e.img&&e.bAttrs.left&&!e.bAttrs.right?o("v-icon",e._b({domProps:{textContent:e._s(e.img)}},"v-icon",e.bAttrs,!1)):e._e(),e.label?o("span",[e._v(e._s(e.label))]):e._e(),!e.img||!e.bAttrs.right&&e.bAttrs.left?e._e():o("v-icon",e._b({attrs:{right:void 0==e.bAttrs.icon},domProps:{textContent:e._s(e.img)}},"v-icon",e.bAttrs,!1)),e._t("default"),e.tooltip?o("v-tooltip",e._b({attrs:{activator:e.activator}},"v-tooltip",e.ttAttrs,!1),[o("span",{directives:[{name:"t",rawName:"v-t",value:e.tooltip,expression:"tooltip"}]})]):e._e()],2):e.img?o("span",[o("v-icon",e._b({attrs:{id:e.myUid},domProps:{textContent:e._s(e.img)},on:{click:function(t){return t.stopPropagation(),e.click(t)}}},"v-icon",e.bAttrs,!1)),e.tooltip?o("v-tooltip",e._b({attrs:{activator:e.activator}},"v-tooltip",e.ttAttrs,!1),[o("span",{directives:[{name:"t",rawName:"v-t",value:e.tooltip,expression:"tooltip"}]})]):e._e(),e._t("default")],2):o("span",[o("v-icon",e._b({attrs:{id:e.myUid},on:{click:function(t){return t.stopPropagation(),e.click(t)}}},"v-icon",e.bAttrs,!1),[e._t("default")],2),e.tooltip?o("v-tooltip",e._b({attrs:{activator:e.activator}},"v-tooltip",e.ttAttrs,!1),[o("span",{directives:[{name:"t",rawName:"v-t",value:e.tooltip,expression:"tooltip"}]})]):e._e()],1)},n=[],a={name:"fjB",inheritAttrs:!1,data(){return{myUid:"tooltipa_"+this._uid}},props:{img:{type:String,default:""},label:{type:String,default:""},tooltip:{type:String,default:""},ttAttr:{type:Object,default:()=>({bottom:!0})},bAttr:{type:Object,default:()=>({dense:!0})}},methods:{click(e){this.$emit("click",e)}},computed:{ttAttrs(){const e=this.ttAttr;return e.top||e.left||e.right||(e.bottom=!0),e},bAttrs(){const e=this.bAttr;return Object.assign(e,this.$attrs),e},activator(){return"#"+this.myUid}},created(){}},r=a,s=o("2877"),l=o("6544"),c=o.n(l),p=o("8336"),u=o("132d"),d=o("3a2f"),m=Object(s["a"])(r,i,n,!1,null,null,null);t["a"]=m.exports;c()(m,{VBtn:p["a"],VIcon:u["a"],VTooltip:d["a"]})},d1dc:function(e,t,o){"use strict";var i=o("3afa"),n=o.n(i);n.a},ec67:function(module,__webpack_exports__,__webpack_require__){"use strict";var _fjB_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("cda3");__webpack_exports__["a"]={name:"fjFileLoadButton",components:{fjB:_fjB_vue__WEBPACK_IMPORTED_MODULE_0__["a"]},props:{opts:{type:Object,default:()=>({type:"JSON",basename:"FileLoadButton"})},dropclass:{type:String,default:"success"},label:{type:String,default:""},message:{type:String,default:""},droplabel:{type:String,default:"Drop here"}},data(){return{loading:!1,drop:!1,over:!1}},computed:{myId(){const e=(this.opts.basename||"FileLoadButton_")+this._uid.toString();return e}},watch:{},methods:{importFile(r,opts){opts=opts||{type:"JSON"};const{skipAtStart:skipAtStart,skipAfterEnd:skipAfterEnd,type:type}=opts;let ss=skipAtStart?r.indexOf(skipAtStart):-1;ss>0&&(opts.skippedAtStart=r.slice(0,ss),r=r.slice(ss));let se=skipAfterEnd?r.lastIndexOf(skipAfterEnd):-1;if(se>0&&(opts.skippedAfterEnd=r.slice(se+1),r=r.slice(0,se+1)),"JSON"===type)try{r=JSON.parse(r)}catch(e){r="Error: file did not include json syntax!",this.$alert("error:JSON.parse: "+e)}else if("Javascript"===type)try{r=eval("("+r+")")}catch(e){r="Error: file could not be evaluated!",this.$alert("error:eval: "+e)}return r},loadTextFromFile(e){const t=this;e.target.files&&e.target.files.length||(this.loading=!1,e.target.value&&this.$alert("warning:"+this.tt("Browser does not load same file again!"),this.loading=!1)),this.loading=!0;const o=e.target.files[0],i=new FileReader;this.$nextTick(e=>{this.opts.name=o.name,i.onload=e=>{let o=e.target.result;o=t.importFile(o,t.opts),t.$emit("onchange",o),t.$alert&&t.message&&t.$alert("2|success:"+this.message),t.loading=!1},i.readAsText(o)},this)},triggerLoad(){const e=document.getElementById(this.myId);e.value=null,e.click()}},created(){},mounted(){const e=this;this.drop="undefined"!==typeof window.FileReader;const t=this.$el;this.drop&&(t.ondragleave=t.ondragover=t.ondragenter=function(){return e.over=!0,!1},t.ondragleave=function(){return e.over=!1,!1},t.ondrop=function(t){return e.over=!1,t.preventDefault(),t.target.files=t.dataTransfer.files,e.$nextTick().then(o=>e.loadTextFromFile(t)),!1})},unmounted(){if(this.drop){const e=this.$el;e.ondragenter=e.ondragover=e.ondragleave=e.ondrop=null}}}},edd4:function(e){e.exports=JSON.parse("{}")},f693:function(e){e.exports=JSON.parse("{}")}});