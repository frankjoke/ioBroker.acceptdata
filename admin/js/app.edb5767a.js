(function(t){function e(e){for(var i,r,a=e[0],l=e[1],c=e[2],d=0,p=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&p.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);m&&m(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),o()}function o(){for(var t,e=0;e<s.length;e++){for(var o=s[e],i=!0,a=1;a<o.length;a++){var l=o[a];0!==n[l]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=o[0]))}return t}var i={},n={app:0},s=[];function r(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=i,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(o,i,function(e){return t[e]}.bind(null,i));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var m=l;s.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"06d2":function(t,e,o){var i=o("1c1e");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=o("499e").default;n("77906990",i,!0,{sourceMap:!1,shadowMode:!1})},1:function(t,e){},"1c1e":function(t,e,o){var i=o("24fb");e=i(!1),e.push([t.i,"::v-deep .slide-fade-enter-active{-webkit-transition:all .3s ease;transition:all .3s ease}::v-deep .slide-fade-leave-active{-webkit-transition:all .6s cubic-bezier(1,.5,.8,1);transition:all .6s cubic-bezier(1,.5,.8,1)}.slide-fade-leave-to,::v-deep .slide-fade-enter{-webkit-transform:translatex(100px);transform:translatex(100px);opacity:0}::v-deep .v-menu__content{-webkit-transition:all .3s ease;transition:all .3s ease}",""]),t.exports=e},"3afa":function(t,e,o){var i=o("7578");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=o("499e").default;n("61df65aa",i,!0,{sourceMap:!1,shadowMode:!1})},4113:function(t,e,o){"use strict";var i=o("06d2"),n=o.n(i);n.a},4404:function(t,e,o){var i=o("24fb");e=i(!1),e.push([t.i,"html{overflow-y:auto!important}",""]),t.exports=e},4907:function(t,e,o){"use strict";var i=o("bd4b"),n=o.n(i);n.a},"56d7":function(t,e,o){"use strict";o.r(e);var i=o("2b0e"),n=(o("d4b8"),o("41e6"),o("f309")),s=o("5607");i["a"].use(n["a"],{directives:{Ripple:s["a"]}});var r=new n["a"]({icons:{iconfont:"mdi"}}),a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("v-app-bar",{attrs:{app:"",color:"primary",dark:"",dense:"","elevate-on-scroll":"","scroll-target":"#MyAppContent"}},[o("div",{staticClass:"d-flex align-center"},[o("v-img",{staticClass:"shrink mr-2",attrs:{alt:t.iobrokerAdapter,contain:"",src:t.adapterIcon,width:"35"}}),o("fjB",{staticClass:"text-none",attrs:{href:t.iobrokerReadme,target:"_blank",text:"",img:"mdi-help-circle-outline",tooltip:t.$t("Goto readme for {0}",[t.iobrokerAdapter]),label:t.iobrokerAdapterInstance+" v("+t.iobrokerAdapterCommon.version+")"}})],1),o("v-tabs",{attrs:{centered:""},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}},t._l(t.configTranslated,(function(e){return o("v-tab",{key:e.label},[e.icon?o("v-icon",{attrs:{left:"",small:""}},[t._v(t._s(e.icon))]):t._e(),o("span",{directives:[{name:"t",rawName:"v-t",value:e.label,expression:"item.label"}]})],1)})),1),o("v-spacer"),o("fjFileSaveButton",{attrs:{content:t.iobrokerConfigD(),opts:{type:"JSON",basename:t.iobrokerAdapter+"-config"},icon:"",small:"",text:"",tooltip:t.$t("Download Config JSON or shift-click to copy to clipboard"),img:"mdi-briefcase-download"}}),o("fjFileLoadButton",{attrs:{text:"",icon:"",small:"",tooltip:t.$t("Upload Config JSON or drop config file here"),img:"mdi-briefcase-upload",message:t.$t("Loaded config!")},on:{onchange:function(e){t.iobrokerConfig=arguments[0]}}}),o("fjB",{attrs:{text:"",disabled:!t.iobrokerConfigChanged,small:"",label:t.$t("Save"),img:"mdi-content-save",tooltip:t.$t("Save current config")},on:{click:function(e){return e.stopPropagation(),t.saveAdapterConfig(null)}}}),o("fjAlerts",{attrs:{offsetX:0,offsetY:20}}),o("fjB",{attrs:{text:"",small:"",disabled:!t.iobrokerConfigChanged,dense:"",tooltip:t.$t("Save settings and close config"),label:t.$t("Save&Close"),img:"mdi-content-save-move"},on:{click:function(e){e.stopPropagation(),t.saveAdapterConfig(null).then((function(){return t.closeAdapterConfig()}))}}}),o("fjB",{attrs:{text:"",small:"",dense:"",tooltip:t.$t("cancel and close config"),label:t.$t("Cancel"),img:"mdi-close"},on:{click:function(e){return e.stopPropagation(),t.closeAdapterConfig(e)}}})],1),o("v-content",{staticClass:"flex-wrap",attrs:{id:"MyAppContent"}},[o("fjConfigContainer",{attrs:{cItem:t.iobrokerConfig,configPage:t.configPage}})],1),o("fjConfirm")],1)},l=[];const c={filters:{nFormat:(t,e,o)=>{if(void 0!==o||"object"!==typeof e&&"string"!==typeof e?o?"string"===typeof o&&void 0!==e&&(o={postfix:o}):o={}:(o=e,e=void 0),"string"===typeof o){const t=o.match(/^([.,?]?)(\d+)?(\;?)(\-[^\+]+)?\+?(.*)$/);o={},t&&(e=void 0===t[2]&&void 0===e?0:Number(t[2]),t[1]&&(o.decimalPoint=t[1]),o.sepThousands=!!t[3],t[4]&&t[4].startsWith("-")?o.prefix=t[4].slice(1):o.prefix="",o.postfix=t[5])}if(void 0!==e?isNaN(Number(e))||(e=Number(e)):e=Number(o.digits),(void 0===e||isNaN(e))&&(e=0),o.digits&&!isNaN(Number(o.digits))&&(e=Number(o.digits)),"?"===o.decimalPoint&&(o.decimalPoint="en"==mylang?".":","),t=Number(t),t=isNaN(t)?"":t.toFixed(e).toString(),o.decimalPoint&&(t=t.replace(".",o.decimalPoint)),o.sepThousands){const e=","===o.decimalPoint?".":",",i=","===e?".":",",n=t.split(i);t=n[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+e),n[1]&&(t+=i+n[1].replace(/(\d{3})(?=\d)/g,"$1"+e))}return o.prefix&&(t=o.prefix+" "+t),o.postfix&&(t+=" "+o.postfix),t}},methods:{async Presolve(t){return Promise.resolve(t)},numberFormat(t,...e){return this.$options&&this.$options.filters&&this.$options.filters["nFormat"]?this.$options.filters["nFormat"](t,...e):t},convCsv(t,e){function o(t,e,o){e=e||",",o=o||'"';for(var i=t.split(e),n=[],s=0;s<i.length;++s)if(i[s].indexOf(o)>=0){for(var r=-1,a=i[s],l=s+1;l<i.length;++l)if(i[l].indexOf(o)>=0){r=l;break}if(-1!=r){for(l=s+1;l<=r;++l)a=a+e+i[l];n.push(a),s=r}else n.push(i[s])}else n.push(i[s]);return n}const{sep:i,lineSep:n,noHeader:s,quotes:r}=Object.assign({sep:",",lineSep:"\n",quotes:'"'},e||{});t=t||"";const a=t.split(n).map(t=>t.trim()),l=o(a[0],i,r).map((t,e)=>s?e:t.trim()),c={};for(let m=s?0:1;m<a.length;m++){const t=o(a[m],i,r).map(t=>t.trim());for(let e=0;e<l.length;e++){const o=l[e];if(o){c[o]||(c[o]=[]);const i=c[o],n=t[e];i[s?m:m-1]="0"===n||Number(n)?Number(n):n}}}return c}}};var m=c;const d=!1,p=window.location.search.slice(1)||"0";var u=window.location.pathname.split("/");u=u[u.length-2],""===u&&(u="acceptdata");const f=(navigator.language||navigator.userLanguage).slice(0,2),h={data(){return{iobrokerConfigOrig:"",iobrokerHost:"",iobrokerHostConnection:{},iobrokerLang:f||"en",iobrokerInstance:p,iobrokerConfigFile:{},iobrokerConfig:{},ioBrokerSystemConfig:null,iobrokerAdapter:u,iobrokerPackage:{},iobrokerIoPackage:{},iobrokerAdapterCommon:{},ioBrokerCerts:[],configTranslated:[],socketConnected:!1,iobrokerReadme:"",adapterIcon:"",devMode:d}},sockets:{connect(){this.socketConnected=!0,this.iobrokerHostConnection=this.$socket.io.opts,this.ioBrokerSystemConfig||this.loadSystemConfig()},disconnected(){this.socketConnected=!0,this.$socket.open()}},computed:{ioBrokerCompareConfig(){return this.myStringify(this.iobrokerConfig)},iobrokerConfigChanged(){return this.iobrokerConfigOrig!=this.ioBrokerCompareConfig},iobrokerAdapterInstance(){return this.iobrokerAdapter+"."+this.iobrokerInstance}},watch:{iobrokerConfigFile:{handler:function(){this.translateConfig(this.iobrokerConfigFile)},deep:!0},async iobrokerLang(t){const e=await this.setAdapterReadme(t,this.iobrokerAdapterCommon);this.iobrokerReadme=e},async iobrokerAdapterCommon(t){const e=await this.setAdapterReadme(this.iobrokerLang,t);this.iobrokerReadme=e}},async created(){i["a"].prototype.$ioBroker=this,this.iobrokerInstance=window.location.search.slice(1)||"0",this.iobrokerLang=this.$i18n.locale=(navigator.language||navigator.userLanguage).slice(0,2),await this.loadConfigFile()},beforeMount(){this.iobrokerHostConnection=this.$socket.io.opts,this.$socket.connected&&!this.ioBrokerSystemConfig&&this.loadSystemConfig()},async mounted(){await this.loadIoBroker(),await this.wait(5),this.setAdapterReadme(this.iobrokerLang,this.iobrokerAdapterCommon)},methods:{async loadConfigFile(){let t=null;try{t=await fetch("./config.json").then(t=>t.json()).catch(t=>(console.log("config.json fetch err",t),null))}catch(e){console.log("config.json fetch err",e)}t&&(this.iobrokerConfigFile=t,this.adapterIcon=t.icon)},setAdapterReadme(t,e){let o=e.readme;if(!o)return"";const i=this.iobrokerConfigFile.readme;return i&&i[t]&&(o=o.replace("README.md",i[t])),this.iobrokerReadme=o,o},translateConfig(t){const e=this;function o(t){const i=Object.getOwnPropertyNames(t),n={};for(const o of i)["label","text","html","tooltip","placeholder","hint"].indexOf(o)>=0?Array.isArray(t[o])?n[o]=t[o].map(t=>e.$t(t)):n[o]=e.$t(t[o]):n[o]=t[o];return Array.isArray(n.items)&&(n.items=n.items.map(t=>o(t))),n}const i=t&&t.configTool;if(!i)return[];this.iobrokerAdapterCommon;const n=t&&t.translation,s=this.copyObject(i&&i.length?i:[]);if(n){const t=this.copyObject(this.$i18n.messages),e=this.$i18n.loadLocaleMessages(n,t);for(const o of Object.keys(e))this.$i18n.setLocaleMessage(o,e[o])}this.$set(this,"configTranslated",[]);for(const r of s)!d&&r.devOnly||this.configTranslated.push(o(r));return this.configTranslated},setIobrokerConfig(t){const e=this.myStringify(t||{});this.$set(this,"iobrokerConfig",JSON.parse(e)),this.$set(this,"iobrokerConfigOrig",e)},async loadIoBroker(){const t="system.adapter."+this.iobrokerAdapterInstance,e=await this.socketEmit("getObject",t);return e?(this.setIobrokerConfig(e.native),e.common&&(this.iobrokerAdapterCommon=e.common),await this.wait(10),this.$forceUpdate(),e):(console.log(`No Adapterconfig received for ${t}!`),null)},async sendTo(t,e,o){return this.socketSendTo("sendTo",t||this.iobrokerAdapterInstance,e,o)},async sendToHost(t,e,o){return this.socketSendTo("sendToHost",t||this.iobrokerAdapterCommon.host,e,o)},async getInterfaces(t){const e=await this.sendToHost(null,"getInterfaces",null);return e&&e.result?t?Object.keys(e.result):Object.entries(e.result):[]},async getHost(t){t=t||this.iobrokerAdapterCommon.host;const e=await this.socketEmit("getHostByIp",t).then(t=>this.iobrokerHost=t,t=>null);return e},getLocalTime(t){const e=new Date(t||Date.now()),o=e.getTimezoneOffset();return new Date(e.getTime()-60*o*1e3).toISOString()},iobrokerConfigD(){const t=this.copyObject(this.iobrokerConfig);return t._adapter_info_={time:this.getLocalTime(),instance:this.iobrokerAdapterInstance,version:this.iobrokerAdapterCommon.version,host:this.iobrokerAdapterCommon.host},t},async saveAdapterConfig(t){const e=this.copyObject(this.iobrokerConfig),o="system.adapter."+this.iobrokerAdapterInstance,i=await this.socketEmit("getObject",o).catch(t=>null)||{};if(!i.native)return!1;for(var n of Object.getOwnPropertyNames(e))n&&"_adapter_info_"!=n&&(i.native[n]=e[n]);if(t)for(var s in Object.getOwnPropertyNames(t))i.common[s]=t[s];return await this.socketEmit("setObject",o,i).then(()=>this.$alert(this.$t("config saved")),t=>this.$alert(`error:${this.$t("Save config error")} ${t}`)),this.setIobrokerConfig(e),await this.wait(10),!0},async closeAdapterConfig(t){function e(){if("undefined"!==typeof parent&&parent)try{parent.$iframeDialog&&"function"===typeof parent.$iframeDialog.close?parent.$iframeDialog.close():parent.postMessage("close","*")}catch(t){parent.postMessage("close","*")}}if(t.altKey&&t.shiftKey)return this.$copyText(JSON.stringify(this.$missing,null,2)),this.$alert(this.$t("Missing words saved to clipboard!"));const o=!this.iobrokerConfigChanged||await this.$confirm("okColor=error darken-2|"+this.$t("Really exit without saving?"));return o&&(this.devMode?this.$alert("would close now "+o):e()),o},async getObject(t){return await this.socketEmit("getObject",t).then(t=>t,e=>(console.log("getObject err:",t,e),null))},async getState(t){return this.socketEmit("getState",t).then(t=>t,t=>(console.log(t),null))},async getEnums(t){return this.socketEmit("getObjectView","system","enum",{startkey:"enum."+t,endkey:"enum."+t+".香"}).then(e=>{for(var o={},i=0;i<e.rows.length;i++)e.rows[i].id!=="enum."+t&&(o[e.rows[i].id]=e.rows[i].value);return o},t=>(console.log(t),[]))},async getGroups(){return this.socketEmit("getObjectView","system","group",{startkey:"system.group.",endkey:"system.group.香"}).then(t=>{for(var e={},o=0;o<t.rows.length;o++)e[t.rows[o].id]=t.rows[o].value;return e},t=>(console.log(t),[]))},async getUsers(){return this.socketEmit("getObjectView","system","user",{startkey:"system.user.",endkey:"system.user.香"}).then(t=>{for(var e={},o=0;o<t.rows.length;o++)e[t.rows[o].id]=t.rows[o].value;return e},t=>(console.log(t),[]))},async getAdapterInstances(t){return t=t||this.iobrokerAdapter,this.socketEmit("getObjectView","system","instance",{startkey:"system.adapter."+t,endkey:"system.adapter."+t+".香"}).then(t=>{for(var e=[],o=0;o<t.rows.length;o++)e.push(t.rows[o].value);return e},t=>(console.log(t),[]))},async getExtendableInstances(t){return t=t||this.iobrokerAdapter,this.socketEmit("getObjectView","system","instance",null).then(t=>{for(var e=[],o=0;o<t.rows.length;o++)t.rows[o].value.common.webExtendable&&e.push(t.rows[o].value);return e},t=>(console.log(t),[]))},async loadSystemConfig(){let t=10;while(t)try{t-=1;const e=await this.loadSystemConfigInner();return e}catch(e){}return console.log("Could not load System config after 10 trials!"),null},async loadSystemConfigInner(){let t=await this.socketEmit({event:"system.config",timeout:1e3}).then(t=>t,t=>null);if(!t||!t.common)return Promise.reject(null);if(this.ioBrokerSystemConfig=t,this.iobrokerLang=t.common.language||this.iobrokerLang,this.$i18n.locale=this.iobrokerLang,t=await this.socketEmit({event:"system.certificates",timeout:1e3}).then(t=>t,t=>null),t&&t.native&&t.native.certificates)for(var e in this.ioBrokerCerts=[],t.native.certificates)if(t.native.certificates.hasOwnProperty(e)&&t.native.certificates[e])if(t.native.certificates[e].length<700&&(-1!==t.native.certificates[e].indexOf("/")||-1!==t.native.certificates[e].indexOf("\\"))){var o={name:e,type:""};-1!==e.toLowerCase().indexOf("private")||-1!==t.native.certificates[e].toLowerCase().indexOf("private")?o.type="private":(-1!==e.toLowerCase().indexOf("public")||-1!==t.native.certificates[e].toLowerCase().indexOf("public"))&&(o.type="public"),this.ioBrokerCerts.push(o)}else{var i={name:e,type:"-----BEGIN RSA PRIVATE KEY"===t.native.certificates[e].substring(0,"-----BEGIN RSA PRIVATE KEY".length)||"-----BEGIN PRIVATE KEY"===t.native.certificates[e].substring(0,"-----BEGIN PRIVATE KEY".length)?"private":"public"};if("public"===i.type){for(var n=t.native.certificates[e].split("-----END CERTIFICATE-----"),s=0,r=0;r<n.length;r++)n[r].replace(/\r\n|\r|\n/,"").trim()&&s++;s>1&&(i.type="chained")}this.ioBrokerCerts.push(i)}return this.ioBrokerSystemConfig}}};var g=h,b={name:"App",mixins:[m,g],data:()=>({page:-1,configPage:{items:[]}}),async beforeMount(){return this.page=0,await this.makeConfigPage(0)},methods:{async makeConfigPage(t){const e=Object.assign({},this.copyObject(this.configTranslated[t]||{}));this.configPage=e;const o=e.items;this.$set(this.configPage,"items",[]),this.$set(this.configPage,"page",t);for(const i in o)this.configPage.items.splice(i,1,o[i]);return this.configPage}},watch:{page(t){this.wait(10).then(()=>this.makeConfigPage(Number(t)))},configTranslated:{handler:function(){this.wait(10).then(()=>this.makeConfigPage(Number(this.page)))},deep:!0}}},v=b,y=(o("4907"),o("2877")),k=o("6544"),I=o.n(k),x=o("7496"),T=o("40dc"),C=o("a75b"),w=o("132d"),_=o("adda"),j=o("2fa4"),$=o("71a3"),O=o("fe57"),A=Object(y["a"])(v,a,l,!1,null,null,null),S=A.exports;I()(A,{VApp:x["a"],VAppBar:T["a"],VContent:C["a"],VIcon:w["a"],VImg:_["a"],VSpacer:j["a"],VTab:$["a"],VTabs:O["a"]});var N=o("a925");const P={};var E=P;function B(t,e){e=e||{};for(const o of Object.keys(t))for(const i of Object.keys(t[o]))e[i]?e[i][o]=t[o][i]:e[i]={[o]:t[o][i]};return e}async function V(t,e){try{const o=await fetch(t).then(t=>t.json()).catch(e=>(console.log("loadwords fetch",t,e),null));o&&B(o,e)}catch(o){console.log("loadwords err",o)}}i["a"].use(N["a"]);const F=B(E);V("./words.json",F);const L={locale:"en",fallbackLocale:"en",messages:F,silentTranslationWarn:!0},M=new N["a"](L),R={};i["a"].prototype.$missing=R,M.loadLocaleMessages=B,M.missing=(t,e,o,i)=>{function n(){return E[e]&&E[e][t]?E[e][t]:(R[e]&&R[e][t]||(R[e]?R[e][t]=null:R[e]={[t]:null}),E[e]&&E[e][L.fallbackLocale]?E[e][L.fallbackLocale]:(R[e]&&R[e][L.fallbackLocale]||(R[e]?R[e][L.fallbackLocale]=e:R[e]={[L.fallbackLocale]:e}),e))}let s=n()||"!undefined i18n key!";return"string"!=typeof s?"!undefined i18n key!":(s=s.replace(/\{([\d\w_]+)\}/g,(t,e)=>i[e.trim()]),s)};var D=M,J=o("cda3"),H=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"resize",rawName:"v-resize",value:t.resize,expression:"resize"}]},[t.items.length?o("v-menu",{attrs:{dense:"",value:!0,"offset-y":"","position-x":t.posx,"position-y":t.posy,"close-on-content-click":!1,"close-on-click":!1,mode:"out-in",transition:"scale-transition"}},t._l(t.items,(function(e,i){return o("transition",{key:i,attrs:{name:"slide-fade"}},[o("v-alert",{staticClass:"ma-2",attrs:{mode:"in-out",origin:"transform-origin: -100% 50%;",border:"top","colored-border":"",color:e.color,dense:"",type:e.type,label:e.label,elevation:"5"},scopedSlots:t._u([{key:"append",fn:function(){return[o("fjB",{staticClass:"ml-2",attrs:{small:"",right:t.label,icon:!t.label,text:"",label:t.$t(t.label),img:"mdi-close"},on:{click:function(e){return e.stopPropagation(),t.deleteAlert(i)}}})]},proxy:!0}],null,!0)},[o("span",{staticClass:"body-2",domProps:{innerHTML:t._s(t.$t(e.text))}})])],1)})),1):t._e(),t._t("default")],2)},z=[],q={name:"fjAlerts",props:{selector:{type:String,default:""},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},timeout:{type:Number,default:6}},data(){return{posx:0,posy:0,idCount:0,items:[],label:""}},methods:{addAlert(t){const e=this,o={warning:10,error:20,info:4,success:5,primary:6,[void 0]:3};if(t=t||{},"string"===typeof t){let e=t.trim();const i=e.match(/^(?:(\d*(?=\|))?\|?(warning|error|info|success|primary)\:)?(.*)$/i);t=i?{label:"",timeout:i[1]?Number(i[1]):o[i[2]],text:i[3],type:i[2]||"primary"}:{text:e,color:"primary lighten-4"}}if("primary"===t.type&&(t.type=null,t.color||(t.color="primary lighten-2")),!t.text&&t.tt&&(t.text=this.$dictionary.translate(t.tt)),t=Object.assign({timeout:this.timeout,id:this.idCount++,text:"<>"},t),t.label&&(this.label=t.label),t.timeout){const o=t.id;t.hastimeout=setTimeout(i=>{t.hastimeout=null;const n=e.items.findIndex(t=>t.id===o);n>=0&&e.items.splice(n,1)},1e3*t.timeout)}return this.items.push(t),Promise.resolve(null)},deleteAlert(t){this.items[t].hastimeout&&(clearTimeout(this.items[t].hastimeout),this.items[t].hastimeout=null),this.items.splice(t,1)},random(t,e){return Array.isArray(t)?t[Math.floor(Math.random()*t.length)]:"number"===typeof e?Math.random()*(e-t)+t:"number"===typeof t?Math.random()*t:Math.random()},resize(){const t=this.$el;this.posx=t.getBoundingClientRect().left+this.offsetX,this.posy=t.getBoundingClientRect().bottom+this.offsetY}},created(){i["a"].prototype.$alert=this.addAlert.bind(this)},beforeDestroy(){while(this.items.length>0)this.deleteAlert(0)},mounted(){this.$nextTick(t=>this.resize())}},U=q,Y=(o("4113"),o("0798")),K=o("e449"),W=o("269a"),G=o.n(W),X=o("dc22"),Q=Object(y["a"])(U,H,z,!1,null,null,null),Z=Q.exports;I()(Q,{VAlert:Y["a"],VMenu:K["a"]}),G()(Q,{Resize:X["a"]});var tt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{"max-width":t.options.width},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:t.options.color,dense:"",flat:""}},[o("v-toolbar-title",{directives:[{name:"t",rawName:"v-t",value:t.options.title,expression:"options.title"}],staticClass:"white--text"})],1),o("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!t.options.message,expression:"!!options.message"}],staticClass:"pa-4",domProps:{innerHTML:t._s(t.$t(t.options.message))}}),o("v-card-actions",{staticClass:"pt-0"},[o("v-spacer"),o("v-btn",{attrs:{color:t.options.okColor,text:""},nativeOn:{click:function(e){return t.agree(e)}}},[t.options.okIcon?o("v-icon",{attrs:{left:""},domProps:{textContent:t._s(t.options.okIcon)}}):t._e(),o("span",{directives:[{name:"t",rawName:"v-t",value:t.options.okText,expression:"options.okText"}]})],1),o("v-btn",{attrs:{color:t.options.cancelColor,text:""},nativeOn:{click:function(e){return t.cancel(e)}}},[o("span",{directives:[{name:"t",rawName:"v-t",value:t.options.cancelText,expression:"options.cancelText"}]}),t.options.cancelIcon?o("v-icon",{attrs:{right:""},domProps:{textContent:t._s(t.options.cancelIcon)}}):t._e()],1)],1)],1)],1)},et=[],ot={data:()=>({dialog:!1,resolve:null,options:{}}),props:{defaults:{type:Object,default:()=>({})}},methods:{open(t,e){const o={color:"primary",cancelColor:"grey darken-1",okColor:"success darken-1",okText:"Yes",okIcon:"mdi-check",cancelIcon:"mdi-close",cancelText:"No",message:"",title:"",width:390,zIndex:200};if(e=e||{},!e.title&&t.indexOf("|")>0){const i=t.indexOf("|");e.message=t.slice(i+1);const n=t.slice(0,i).split(",").map(t=>t.trim().split("=").map(t=>t.trim())),s=Object.keys(o).map(t=>t.toLowerCase());let r;for(r of n){const t=r[0],i=r[1],n=s.indexOf(t.toLowerCase());t&&n>=0&&(e[Object.keys(o)[n]]=void 0===i||(Number(i)?Number(i):i))}}else e.message=t;e.title||(e.title="Please confirm:"),this.title=e.title,this.message=e.message;const i=Object.assign({},o,this.defaults,e);return this.options=Object.assign({},this.options,i),this.dialog=!0,new Promise(t=>{this.resolve=t})},agree(){this.$nextTick().then(t=>this.resolve(!0)),this.dialog=!1},cancel(){this.$nextTick().then(t=>this.resolve(!1)),this.dialog=!1}},created(){i["a"].prototype.$confirm=this.open.bind(this)}},it=ot,nt=o("8336"),st=o("b0af"),rt=o("99d9"),at=o("169a"),lt=o("71d9"),ct=o("2a7f"),mt=Object(y["a"])(it,tt,et,!1,null,null,null),dt=mt.exports;I()(mt,{VBtn:nt["a"],VCard:st["a"],VCardActions:rt["a"],VCardText:rt["b"],VDialog:at["a"],VIcon:w["a"],VSpacer:j["a"],VToolbar:lt["a"],VToolbarTitle:ct["a"]});var pt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.nCols?o("v-col",{staticClass:"pa-1",attrs:{cols:t.nCols}},[t._l(t.nRuler,(function(t,e){return o("fjConfigRuler",{key:e,attrs:{ruler:t}})})),t.cToolItem.type?o("fjConfigItem",{attrs:{cToolItem:t.nToolItem,cItem:t.cItem}}):t._e()],2):o("span",[t._l(t.nRuler,(function(t,e){return o("fjConfigRuler",{key:e,attrs:{ruler:t}})})),t.cToolItem.type?o("fjConfigItem",{attrs:{cToolItem:t.nToolItem,cItem:t.cItem}}):t._e()],2)},ut=[],ft=function(){var t=this,e=t.$createElement,o=t._self._c||e;return"text"==t.cToolItem.type?o("v-flex",t._b({},"v-flex",t.attrs("html,text,label"),!1),[t.cToolItem.label?o("div",{staticClass:"subtitle-2",domProps:{textContent:t._s(t.cToolItem.label)}}):t._e(),t.cToolItem.text?o("div",{staticClass:"caption",domProps:{textContent:t._s(t.cToolItem.text)}}):t._e(),t.cToolItem.html?o("div",{staticClass:"caption",domProps:{innerHTML:t._s(t.cToolItem.html)}}):t._e()]):"html"==t.cToolItem.type?o("v-flex",t._b({},"v-flex",t.attrs("text,label"),!1),[t.cToolItem.label?o("div",{staticClass:"subtitle-2",domProps:{textContent:t._s(t.cToolItem.label)}}):t._e(),Array.isArray(t.cToolItem.text)?o("div",{staticClass:"caption",domProps:{innerHTML:t._s(t.cToolItem.text.join("<br>"))}}):o("div",{staticClass:"caption",domProps:{innerHTML:t._s(t.cToolItem.text)}})]):"number"==t.cToolItem.type?o("v-text-field",t._b({attrs:{dense:"","hide-details":"auto"},model:{value:t.cItem[t.cToolItem.value],callback:function(e){t.$set(t.cItem,t.cToolItem.value,e)},expression:"cItem[cToolItem.value]"}},"v-text-field",t.attrs("min,max"),!1)):"string"==t.cToolItem.type?o("v-text-field",t._b({attrs:{dense:"","hide-details":"auto"},model:{value:t.cItem[t.cToolItem.value],callback:function(e){t.$set(t.cItem,t.cToolItem.value,e)},expression:"cItem[cToolItem.value]"}},"v-text-field",t.attrs(),!1)):"checkbox"==t.cToolItem.type&&t.cToolItem.label?o("v-checkbox",t._b({attrs:{dense:"","hide-details":"auto"},model:{value:t.cItem[t.cToolItem.value],callback:function(e){t.$set(t.cItem,t.cToolItem.value,e)},expression:"cItem[cToolItem.value]"}},"v-checkbox",t.attrs(),!1)):"select"==t.cToolItem.type?o("v-select",t._b({attrs:{items:t.cToolItem.select,dense:"","hide-details":"auto"},model:{value:t.cItem[t.cToolItem.value],callback:function(e){t.$set(t.cItem,t.cToolItem.value,e)},expression:"cItem[cToolItem.value]"}},"v-select",t.attrs(),!1)):"textarea"==t.cToolItem.type?o("v-textarea",t._b({staticStyle:{"font-family":"monospace !important","font-size":"14px"},attrs:{"auto-grow":"","row-height":"15","hide-details":"auto",rows:t.cItem[t.cToolItem.value].split("\n").length,dense:""},model:{value:t.cItem[t.cToolItem.value],callback:function(e){t.$set(t.cItem,t.cToolItem.value,e)},expression:"cItem[cToolItem.value]"}},"v-textarea",t.attrs(),!1)):"chips"==t.cToolItem.type?o("v-combobox",t._b({attrs:{items:t.cToolItem.select||[],chips:"",dense:"","hide-details":"auto","deletable-chips":"","search-input":t.search,multiple:""},on:{"update:searchInput":function(e){t.search=e},"update:search-input":function(e){t.search=e}},model:{value:t.cItem[t.cToolItem.value],callback:function(e){t.$set(t.cItem,t.cToolItem.value,e)},expression:"cItem[cToolItem.value]"}},"v-combobox",t.attrs(),!1)):"table"==t.cToolItem.type?o("fjConfigTable",t._b({attrs:{columns:t.cToolItem.items,items:t.cItem[t.cToolItem.value]}},"fjConfigTable",t.attrs(),!1)):"checkbox"!=t.cToolItem.type||t.cToolItem.label?"switch"==t.cToolItem.type?o("v-switch",t._b({attrs:{dense:"","hide-details":"auto"},model:{value:t.cItem[t.cToolItem.value],callback:function(e){t.$set(t.cItem,t.cToolItem.value,e)},expression:"cItem[cToolItem.value]"}},"v-switch",t.attrs(),!1)):o("div",t._b({},"div",t.attrs(),!1),[t._v(" "+t._s(t.cToolItem)+" "+t._s(t.cToolItem.value?t.cItem[t.cToolItem.value]:"")+" ")]):o("v-simple-checkbox",t._b({model:{value:t.cItem[t.cToolItem.value],callback:function(e){t.$set(t.cItem,t.cToolItem.value,e)},expression:"cItem[cToolItem.value]"}},"v-simple-checkbox",t.attrs(),!1))},ht=[],gt={name:"fjConfigItem",data(){return{search:null}},props:{cToolItem:{type:Object,default:()=>({type:"none"})},cItem:{type:Object,default:()=>({})},cTable:{type:Object,default:()=>({})}},methods:{removeChip(t){this.cItem[this.cToolItem.value].splice(this.cItem[this.cToolItem.value].indexOf(t),1)},numberRule(t){const e=Number(t);return isNaN(e)?this.$t("You can enter only a number here!"):void 0!=this.cToolItem.min&&e<this.cToolItem.min?this.$t("Number should not be lower than ")+this.cToolItem.min:!(void 0!=this.cToolItem.max&&e>this.cToolItem.max)||this.$t("Number should not be bigger than ")+this.cToolItem.min},uniqueTableRule(t){const{items:e,column:o}=this.cTable,i=(""+t).trim(),n=o.value,s=e.filter(t=>(""+t[n]).trim()==i);return s.length<=1||"This item can only be once per table in this field!"},stringToArrayWith(t,e,o){if(o=o||",","string"===typeof e[t.value]){const o=e[t.value].split(",").map(t=>t.trim());1!=o.length||o[0]||o.splice(0,1),e[t.value]=o}},attrs(t){const e=["type","value","attrs","min","max","convertold"];if(t&&("string"===typeof t?e.push(...t.split(",").map(t=>t.trim())):Array.isArray(t)&&e.push(...t)),this.cToolItem.convertold&&"function"!==typeof this.cToolItem.convertold&&(this.cToolItem.convertold=this.makeFunction(this.cToolItem.convertold,this,"item","conf")),"string"==typeof this.cToolItem.eval&&this.cToolItem.eval.trim()){const t=this.makeFunction(this.cToolItem.eval.trim(),this,"item","conf");try{t(this.cToolItem,this.cItem)}catch(s){console.log("eval error in translation:",nitem,s,this)}}if("string"===typeof this.cToolItem.disabled&&this.cToolItem.disabled.length>1&&(this.cToolItem.disabled=this.makeFunction(this.cToolItem.disabled,null,"conf")),"function"==typeof this.cToolItem.convertold)try{this.cToolItem.convertold(this.cToolItem,this.cItem)}catch(s){console.log(`error ${s} in conversion function of item ${JSON.stringify(this.cToolItem)}`)}const o=Object.assign({},this.cToolItem.attrs?this.cToolItem.attrs:{class:"pa-1"},this.cToolItem);"function"==typeof o.disabled&&(o.disabled=o.disabled(this.cItem));const i=o.rules,n=[];if(i&&i.length){for(let t in i){const e=this.makeFunction(i[t],this,"$");e&&n.push(e)}o.rules=n}for(let r of e)delete o[r];for(let r of["text","label","placeholder","hint"])"string"==typeof o[r]&&(o[r]=this.$t(o[r]));return o}}},bt=gt,vt=o("ac7c"),yt=o("2b5d"),kt=o("0e8f"),It=o("b974"),xt=o("9e88"),Tt=o("b73d"),Ct=o("8654"),wt=o("a844"),_t=Object(y["a"])(bt,ft,ht,!1,null,null,null),jt=_t.exports;I()(_t,{VCheckbox:vt["a"],VCombobox:yt["a"],VFlex:kt["a"],VSelect:It["a"],VSimpleCheckbox:xt["a"],VSwitch:Tt["a"],VTextField:Ct["a"],VTextarea:wt["a"]});var $t=function(){var t=this,e=t.$createElement,o=t._self._c||e;return"hr"==t.type||"line"==t.type?o("v-col",{attrs:{cols:"12"}},[o("v-divider",{class:"py-"+t.value})],1):"horizontal"==t.type?o("v-col",{class:"py-"+t.value,attrs:{cols:"12"}},[o("v-spacer")],1):"vertical"==t.type?o("v-divider",{class:"px-"+t.value,attrs:{vertical:""}}):o("v-spacer")},Ot=[],At={name:"fjConfigRuler",data(){return{}},props:{ruler:{type:Array,default:()=>[]}},computed:{type(){return this.ruler[0]},value(){return this.ruler[1]}}},St=At,Nt=o("62ad"),Pt=o("ce7e"),Et=Object(y["a"])(St,$t,Ot,!1,null,null,null),Bt=Et.exports;I()(Et,{VCol:Nt["a"],VDivider:Pt["a"],VSpacer:j["a"]});var Vt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"pa-0 elevation-2"},[o("v-toolbar",{attrs:{dark:"",height:"36",color:"primary"}},[t.icon?o("v-icon",{attrs:{left:""}},[t._v(t._s(t.icon))]):t._e(),o("v-toolbar-title",{staticClass:"subtitle-2"},[t._v(t._s(t.label))]),o("v-spacer"),o("v-text-field",{staticClass:"body-1",attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",dense:""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("v-spacer"),o("fjB",{attrs:{text:"",small:"",label:"Add entry",img:"mdi-playlist-plus"},on:{click:t.addRow}})],1),o("v-data-table",{attrs:{dense:"",headers:t.icolumns,items:t.items,search:t.search,disableSort:t.disableSort},scopedSlots:t._u([{key:"item",fn:function(e){var i=e.item,n=e.headers,s=e.index;return[o("tr",{staticClass:"alternate"},t._l(n,(function(e){return o("td",{key:e.value,staticStyle:{padding:"0px 1px 0px 1px"}},["-"==e.value?o("span",{staticClass:"d-flex justify-end"},[t.disableSort?o("fjB",{attrs:{disabled:!s,color:"primary darken-4",img:"mdi-transfer-up",tooltip:"move item one line up"},on:{click:function(e){return e.stopPropagation(),t.itemMove(s,-1)}}}):t._e(),t.disableSort?o("fjB",{attrs:{color:"primary darken-4",disabled:s>=t.items.length-1,img:"mdi-transfer-down",tooltip:"move item one line down"},on:{click:function(e){return e.stopPropagation(),t.itemMove(s,1)}}}):t._e(),o("fjB",{attrs:{img:"mdi-delete-forever",color:"error darken-4",tooltip:"delete item"},on:{click:function(e){return e.stopPropagation(),t.itemDelete(s)}}})],1):o("fjConfigItem",{attrs:{cItem:i,cToolItem:e,cTable:t.cTable(s,e)}})],1)})),0)]}}])})],1)},Ft=[],Lt={name:"fjConfigTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0},label:{type:String,required:!1,default:""},icon:{type:String,required:!1,default:"mdi-table"},disableSort:{type:Boolean,required:!1,default:!1}},data:()=>({search:""}),methods:{async itemDelete(t){return this.$confirm(`Do you really want to delete item[${t}]`).then(e=>this.items.splice(t,1))},itemMove(t,e){const o=this.items.splice(t,1);this.items.splice(t+e,0,o[0])},numberRule(t){const e=Number(t);return isNaN(e)?this.$t("You can enter only a number here!"):void 0!=this.cToolItem.min&&e<this.cToolItem.min?this.$t("Number should not be lower than ")+this.cToolItem.min:!(void 0!=this.cToolItem.max&&e>this.cToolItem.max)||this.$t("Number should not be bigger than ")+this.cToolItem.min},cTable(t,e){return{items:this.items,index:t,column:e}},addRow(){let t={};this.columns.forEach((e,o)=>{t[e.value]=void 0!==e.default?e.default:{text:"",string:"",textarea:"",number:0,select:e.select&&e.select.find(t=>void 0!=t)||"",checkbox:!1,chips:[]}[e.type]||""}),this.items.push(t),this.snackText="Added Row."}},computed:{icolumns(){return[...this.columns,{text:"Edit",value:"-",align:"center",width:this.searchDisabled?"8%":"4%"}]}}},Mt=Lt,Rt=(o("d1dc"),o("8fea")),Dt=Object(y["a"])(Mt,Vt,Ft,!1,null,null,null),Jt=Dt.exports;I()(Dt,{VDataTable:Rt["a"],VIcon:w["a"],VSpacer:j["a"],VTextField:Ct["a"],VToolbar:lt["a"],VToolbarTitle:ct["a"]}),i["a"].component("fjConfigItem",jt),i["a"].component("fjConfigRuler",Bt),i["a"].component("fjConfigTable",Jt);var Ht={name:"fjConfigElement",data(){return{nToolItem:{},nRuler:[],nCols:0}},props:{cToolItem:{type:Object,default:()=>({type:"none"})},cItem:{type:Object,default:()=>({})}},methods:{makeItems(){const t=this.copyObject(this.cToolItem);let{ruler:e,cols:o,rcols:i}=t;delete t.ruler,delete t.cols,this.nToolItem=t,this.nCols=o,e=e&&e.split("|").map(t=>(t=t&&t.trim().split("=").map(t=>t.trim())||[],1==t.length&&t.push(1),t)),this.nRuler=e||[]}},watch:{cToolItem:{deep:!0,handler:function(){this.makeItems()}}},created(){this.makeItems()}},zt=Ht,qt=Object(y["a"])(zt,pt,ut,!1,null,null,null),Ut=qt.exports;I()(qt,{VCol:Nt["a"]});var Yt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{attrs:{fluid:""}},[o("v-row",{staticClass:"px-2"},t._l(t.items,(function(e,i){return o("fjConfigElement",{key:i,attrs:{cItem:t.cItem,cToolItem:e}})})),1)],1)},Kt=[],Wt={name:"fjConfigContainer",data(){return{items:[]}},props:{cItem:{type:Object,default:()=>({})},configPage:{type:Object,default:()=>({items:[],page:-1})}},created(){this.createItems()},methods:{createItems(){const t=this.copyObject(this.configPage.items);this.wait(0).then(()=>{if(this.$set(this,"items",[]),t)for(const e in t)this.items.splice(e,1,t[e]);return this.wait(2).then(()=>this.$forceUpdate())})}},watch:{configPage:{handler:function(){this.createItems()},deep:!0}}},Gt=Wt,Xt=o("a523"),Qt=o("0fd9"),Zt=Object(y["a"])(Gt,Yt,Kt,!1,null,null,null),te=Zt.exports;I()(Zt,{VContainer:Xt["a"],VRow:Qt["a"]});var ee=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("fjB",t._b({class:t.over?t.dropclass:"",attrs:{label:t.over?t.droplabel:t.label,loading:t.loading,disabled:t.loading},on:{click:function(e){return e.stopPropagation(),t.triggerLoad(e)}}},"fjB",t.$attrs,!1),[o("input",{staticStyle:{display:"none"},attrs:{type:"file",id:t.myId},on:{change:t.loadTextFromFile}})])},oe=[],ie=o("ec67"),ne=ie["a"],se=Object(y["a"])(ne,ee,oe,!1,null,null,null),re=se.exports,ae=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("fjB",t._b({on:{click:function(e){return t.saveFile(t.content,t.opts,e)}}},"fjB",t.$attrs,!1))},le=[],ce=o("21a6"),me={name:"fjFileSaveButton",components:{fjB:J["a"]},props:{content:{type:Object,default:()=>"empty file!"},opts:{type:Object,default:()=>({type:"JSON"})}},computed:{},methods:{consoleLog(...t){console.log(...t)},doCopyClipboard(t){const e=this;return t?("string"!==typeof t&&(t=JSON.stringify(t,null,2)),this.$copyText(t).then(t=>{e.$alert("2|success:Copied to clipboard!")},t=>{e.$alert("warning:Cannot copy!")})):Promise.resolve()},exportFile(t,e){if(void 0===t||null===t)return{str:""};e=e||{type:"string"===typeof t?"Text":"JSON"};let{type:o,addAtStart:i,addAtEnd:n,saveWithJSON:s,name:r,fileName:a,basename:l,skippedAfterEnd:c,skippedAtStart:m}=e;const d={JSON:{stringify:!0,ending:".json",mime:"application/json"},Javascript:{stringify:!0,ending:".js",mime:"application/javascript"},Text:{ending:".txt",mime:"text/plain"}};let{stringify:p,ending:u,mime:f}=d[o]||d.Text;p=p||s,r||(r=a||(l||"file")+u),i=("!"===i?m:i&&i.split("\\n").join("\n"))||"",n=("!"===n?c:n&&n.split("\\n").join("\n"))||"";const h=i+(p?JSON.stringify(t,null,2):t)+n;return{name:r,str:h,mime:f,ending:u}},saveFile(t,e,o){const{mime:i,str:n,name:s}=this.exportFile(t,e);if(!i)return Promise.reject("invalid value to save!");if(o.shiftKey)return o.preventDefault(),o.str=n.toString(),this.doCopyClipboard(o.str),!1;const r=new Blob([n],{type:i+";charset=utf-8"});return Object(ce["saveAs"])(r,s)}},created(){"function"!=typeof this.$alert&&(i["a"].prototype.$alert=this.consoleLog)},mounted(){}},de=me,pe=Object(y["a"])(de,ae,le,!1,null,null,null),ue=pe.exports,fe=o("4eb5"),he=o.n(fe),ge=o("8055"),be=o.n(ge),ve=o("5132"),ye=o.n(ve);const ke=!1;var Ie=location.pathname,xe=Ie.split("/");xe.splice(-3),Ie.match(/^\/admin\//)&&(xe=[]);const Te=ke?"ws://localhost:8181":"/",Ce={path:xe.join("/")+"/socket.io"},we=be()(Te,Ce),_e=((navigator.language||navigator.userLanguage).slice(0,2),function(t,e){t.mixin({methods:{async socketEmit(t,...e){let o=5e3;return"object"==typeof t&&(o=Number(t.timeout||1e3),t=t.event||"pong"),new Promise((i,n)=>{let s=setTimeout(()=>n(s=null,new Error(`socketEmit - timeout for ${t}: ${e}`)),o);this.$socket.emit(t,...e,(t,e)=>{s&&clearTimeout(s),t?n(t):i(e)})})},async socketSendTo(t,...e){let o=5e3;return"object"==typeof t&&(o=Number(t.timeout||1e3),t=t.event||"pong"),new Promise((i,n)=>{let s=setTimeout(()=>n(s=null,new Error(`socketSendTo - timeout for ${t}: ${e}`)),o);this.$socket.emit(t,...e,t=>{s&&clearTimeout(s),i(t)})})}}})});i["a"].use(new ye.a({debug:ke,connection:we}));var je=_e;i["a"].component("fjB",J["a"]),i["a"].component("fjAlerts",Z),i["a"].component("fjConfirm",dt),i["a"].component("fjConfigElement",Ut),i["a"].component("fjConfigContainer",te),i["a"].component("fjFileLoadButton",re),i["a"].component("fjFileSaveButton",ue),i["a"].config.productionTip=!1,i["a"].use(he.a),i["a"].use(je,{}),i["a"].prototype.$alert=function(...t){console.log(...t)},i["a"].mixin({methods:{copyObject(t){return JSON.parse(this.myStringify(t))},myStringify(t){let e;try{e=JSON.stringify(t)}catch(o){console.log("MyStringify error:",o),e="{}"}return e},makeFunction(t,e,...o){if(e=e||this,"function"==typeof t)return t;if(Array.isArray(t))t=t.map(t=>t.trim());else if("string"==typeof t&&t.trim()){if("function"==typeof e[t])return e[t].bind(e);t=[...o,t.trim()];try{let o=t[t.length-1];o=o.startsWith("return ")||o.startsWith("{")?o:`return ${o};`,t[t.length-1]=o;const i=new Function(...t);return i.bind(e)}catch(i){console.log(`makeFunction error ${i} in function generation with: ${t}`)}}else console.log("makeFunction - Invalid function content in rule:",t);return null},async wait(t,e){return t=Number(t)||0,(isNaN(t)||t<0)&&(t=0),await new Promise(o=>setTimeout(()=>o(e),t))},async pSequence(t,e,o){o=o||0,Array.isArray(t)||"object"!==typeof t||(t=Object.entries(t).filter(e=>t.hasOwnProperty(e[0])));const i=[];for(let s of t){i.length&&await this.wait(o);try{const t=await e(s);i.push(t)}catch(n){i.push(n)}}return i}}}),new i["a"]({vuetify:r,i18n:D,render:function(t){return t(S)}}).$mount("#app")},7578:function(t,e,o){var i=o("24fb");e=i(!1),e.push([t.i,"td,th,th[role=columnheader]{padding:0 1px;border-left:1px dotted #ddd}tr.alternate:nth-child(2n){background:#e3f2fd}.v-text-field{padding-top:0;margin-top:4px}",""]),t.exports=e},bd4b:function(t,e,o){var i=o("4404");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=o("499e").default;n("65b1c1b8",i,!0,{sourceMap:!1,shadowMode:!1})},cda3:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.label||void 0!=t.bAttrs.icon?o("v-btn",t._b({attrs:{id:t.myUid},on:{click:function(e){return e.stopPropagation(),t.click(e)}}},"v-btn",t.bAttrs,!1),[t.img&&t.bAttrs.left&&!t.bAttrs.right?o("v-icon",t._b({domProps:{textContent:t._s(t.img)}},"v-icon",t.bAttrs,!1)):t._e(),t.label?o("span",[t._v(t._s(t.label))]):t._e(),!t.img||!t.bAttrs.right&&t.bAttrs.left?t._e():o("v-icon",t._b({attrs:{right:void 0==t.bAttrs.icon},domProps:{textContent:t._s(t.img)}},"v-icon",t.bAttrs,!1)),t._t("default"),t.tooltip?o("v-tooltip",t._b({attrs:{activator:t.activator}},"v-tooltip",t.ttAttrs,!1),[o("span",{directives:[{name:"t",rawName:"v-t",value:t.tooltip,expression:"tooltip"}]})]):t._e()],2):t.img?o("span",[o("v-icon",t._b({attrs:{id:t.myUid},domProps:{textContent:t._s(t.img)},on:{click:function(e){return e.stopPropagation(),t.click(e)}}},"v-icon",t.bAttrs,!1)),t.tooltip?o("v-tooltip",t._b({attrs:{activator:t.activator}},"v-tooltip",t.ttAttrs,!1),[o("span",{directives:[{name:"t",rawName:"v-t",value:t.tooltip,expression:"tooltip"}]})]):t._e(),t._t("default")],2):o("span",[o("v-icon",t._b({attrs:{id:t.myUid},on:{click:function(e){return e.stopPropagation(),t.click(e)}}},"v-icon",t.bAttrs,!1),[t._t("default")],2),t.tooltip?o("v-tooltip",t._b({attrs:{activator:t.activator}},"v-tooltip",t.ttAttrs,!1),[o("span",{directives:[{name:"t",rawName:"v-t",value:t.tooltip,expression:"tooltip"}]})]):t._e()],1)},n=[],s={name:"fjB",inheritAttrs:!1,data(){return{myUid:"tooltipa_"+this._uid}},props:{img:{type:String,default:""},label:{type:String,default:""},tooltip:{type:String,default:""},ttAttr:{type:Object,default:()=>({bottom:!0})},bAttr:{type:Object,default:()=>({dense:!0})}},methods:{click(t){this.$emit("click",t)}},computed:{ttAttrs(){const t=this.ttAttr;return t.top||t.left||t.right||(t.bottom=!0),t},bAttrs(){const t=this.bAttr;return Object.assign(t,this.$attrs),t},activator(){return"#"+this.myUid}},created(){}},r=s,a=o("2877"),l=o("6544"),c=o.n(l),m=o("8336"),d=o("132d"),p=o("3a2f"),u=Object(a["a"])(r,i,n,!1,null,null,null);e["a"]=u.exports;c()(u,{VBtn:m["a"],VIcon:d["a"],VTooltip:p["a"]})},d1dc:function(t,e,o){"use strict";var i=o("3afa"),n=o.n(i);n.a},ec67:function(module,__webpack_exports__,__webpack_require__){"use strict";var _fjB_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("cda3");__webpack_exports__["a"]={name:"fjFileLoadButton",components:{fjB:_fjB_vue__WEBPACK_IMPORTED_MODULE_0__["a"]},props:{opts:{type:Object,default:()=>({type:"JSON",basename:"FileLoadButton"})},dropclass:{type:String,default:"success"},label:{type:String,default:""},message:{type:String,default:""},droplabel:{type:String,default:"Drop here"}},data(){return{loading:!1,drop:!1,over:!1}},computed:{myId(){const t=(this.opts.basename||"FileLoadButton_")+this._uid.toString();return t}},watch:{},methods:{importFile(r,opts){opts=opts||{type:"JSON"};const{skipAtStart:skipAtStart,skipAfterEnd:skipAfterEnd,type:type}=opts;let ss=skipAtStart?r.indexOf(skipAtStart):-1;ss>0&&(opts.skippedAtStart=r.slice(0,ss),r=r.slice(ss));let se=skipAfterEnd?r.lastIndexOf(skipAfterEnd):-1;if(se>0&&(opts.skippedAfterEnd=r.slice(se+1),r=r.slice(0,se+1)),"JSON"===type)try{r=JSON.parse(r)}catch(e){r="Error: file did not include json syntax!",this.$alert("error:JSON.parse: "+e)}else if("Javascript"===type)try{r=eval("("+r+")")}catch(e){r="Error: file could not be evaluated!",this.$alert("error:eval: "+e)}return r},loadTextFromFile(t){const e=this;t.target.files&&t.target.files.length||(this.loading=!1,t.target.value&&this.$alert("warning:"+this.tt("Browser does not load same file again!"),this.loading=!1)),this.loading=!0;const o=t.target.files[0],i=new FileReader;this.$nextTick(t=>{this.opts.name=o.name,i.onload=t=>{let o=t.target.result;o=e.importFile(o,e.opts),e.$emit("onchange",o),e.$alert&&e.message&&e.$alert("2|success:"+this.message),e.loading=!1},i.readAsText(o)},this)},triggerLoad(){const t=document.getElementById(this.myId);t.value=null,t.click()}},created(){},mounted(){const t=this;this.drop="undefined"!==typeof window.FileReader;const e=this.$el;this.drop&&(e.ondragleave=e.ondragover=e.ondragenter=function(){return t.over=!0,!1},e.ondragleave=function(){return t.over=!1,!1},e.ondrop=function(e){return t.over=!1,e.preventDefault(),e.target.files=e.dataTransfer.files,t.$nextTick().then(o=>t.loadTextFromFile(e)),!1})},unmounted(){if(this.drop){const t=this.$el;t.ondragenter=t.ondragover=t.ondragleave=t.ondrop=null}}}}});