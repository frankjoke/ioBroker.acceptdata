(function(e){function t(t){for(var n,a,s=t[0],l=t[1],c=t[2],d=0,u=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&u.push(i[a][0]),i[a]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);p&&p(t);while(u.length)u.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],n=!0,s=1;s<o.length;s++){var l=o[s];0!==i[l]&&(n=!1)}n&&(r.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},i={app:0},r=[];function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var p=l;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"06d2":function(e,t,o){var n=o("1c1e");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=o("499e").default;i("77906990",n,!0,{sourceMap:!1,shadowMode:!1})},1:function(e,t){},"1c1e":function(e,t,o){var n=o("24fb");t=n(!1),t.push([e.i,"::v-deep .slide-fade-enter-active{-webkit-transition:all .3s ease;transition:all .3s ease}::v-deep .slide-fade-leave-active{-webkit-transition:all .6s cubic-bezier(1,.5,.8,1);transition:all .6s cubic-bezier(1,.5,.8,1)}.slide-fade-leave-to,::v-deep .slide-fade-enter{-webkit-transform:translatex(100px);transform:translatex(100px);opacity:0}::v-deep .v-menu__content{-webkit-transition:all .3s ease;transition:all .3s ease}",""]),e.exports=t},"33d7":function(e){e.exports=JSON.parse('{"common":{"name":"acceptdata","version":"0.2.1","news":{"0.2.1":{"en":"Added Tables"},"0.0.1":{"en":"initial release","de":"Erstveröffentlichung","ru":"Начальная версия","pt":"lançamento inicial","nl":"Eerste uitgave","fr":"Première version","it":"Versione iniziale","es":"Versión inicial","pl":"Pierwsze wydanie","zh-cn":"首次出版"}},"title":"Accept Data via network","titleLang":{"en":"Accept Data via network","de":"Daten über das Netzwerk akzeptieren","ru":"Принять данные через сеть","pt":"Aceitar dados via rede","nl":"Accepteer gegevens via het netwerk","fr":"Accepter les données via le réseau","it":"Accetta dati tramite rete","es":"Aceptar datos a través de la red","pl":"Akceptuj dane przez sieć","zh-cn":"通过网络接受数据"},"desc":{"en":"Accept Data can be used as a destination for devices which generate data and can post it to a device on a network in JSON or URL format","de":"Daten akzeptieren kann als Ziel für Geräte verwendet werden, die Daten generieren und diese im JSON- oder URL-Format an ein Gerät in einem Netzwerk senden","ru":"Принять данные можно использовать в качестве места назначения для устройств, которые генерируют данные и могут публиковать их на устройстве в сети в формате JSON или URL","pt":"Accept Data pode ser usado como destino para dispositivos que geram dados e pode publicá-los em um dispositivo em uma rede no formato JSON ou URL","nl":"Accepteer gegevens kan worden gebruikt als bestemming voor apparaten die gegevens genereren en deze op een apparaat in een netwerk in JSON- of URL-indeling kunnen plaatsen","fr":"Accepter les données peuvent être utilisées comme destination pour les appareils qui génèrent des données et peuvent les publier sur un appareil sur un réseau au format JSON ou URL","it":"Accetta I dati possono essere utilizzati come destinazione per i dispositivi che generano dati e possono pubblicarli su un dispositivo su una rete in formato JSON o URL","es":"Aceptar Los datos se pueden usar como destino para dispositivos que generan datos y pueden publicarlos en un dispositivo en una red en formato JSON o URL","pl":"Akceptuj Dane mogą być używane jako miejsce docelowe dla urządzeń generujących dane i mogą wysyłać je do urządzenia w sieci w formacie JSON lub URL","zh-cn":"接受数据可以用作生成数据的设备的目标，并可以将其以JSON或URL格式发布到网络上的设备"},"authors":["frankjoke <frankjoke@hotmail.com>"],"keywords":["JSON","URL","GET","POST"],"license":"MIT","platform":"Javascript/Node.js","main":"acceptdata.js","icon":"acceptdata.png","enabled":true,"extIcon":"https://raw.githubusercontent.com/frankjoke/ioBroker.acceptdata/master/admin/acceptdata.png","readme":"https://github.com/frankjoke/ioBroker.acceptdata/blob/master/README.md","loglevel":"info","mode":"daemon","type":"communication","compact":true,"connectionType":"local","dataSource":"push","materialize":false,"dependencies":[{"js-controller":">=1.4.2"}]},"native":{"port":"3000","pathtable":[{"path":"easyweather","method":"GET","convert":"{ outdoorTemp_C: FtoC($.tempf, 1), indoorTemp_C: FtoC($.indoortempf,1), dewPoint_C: FtoC($.dewptf,1), windChill_C: FtoC($.windchillf,1), indoorHumidity_Hum: toNum($.indoorhumidity), outdoorHumidity_Hum: toNum($.humidity), windSpeed_Kmh: toNum($.windspeed_mph*1.61,1), windGust_Kmh: toNum($.windgustmph*1.61,1), windDir_Deg: toNum($.winddir), lastUpdate_Date: new Date($.dateutc.split(\\" \\").join(\\"T\\")+\\".0Z\\"), absBaro_Hpa: toNum($.absbaromin * 33.862,0), baro_Hpa: toNum($.baromin * 33.862, 0), rain_Mm: ItoMM($.rainin), rainDaily_Mm: ItoMM($.dailyrainin,1), rainWeekly_Mm: ItoMM($.weeklyrainin,0), rainMonthly_Mm: ItoMM($.monthlyrainin,0), solarradiation_Wm2: toNum($.solarradiation,2), uv_V: Number($.UV), software_Txt: $.softwaretype}","enabled":true},{"path":"Test","method":"GET","convert":"$","enabled":true}],"_configTool":[{"label":"Config","icon":"mdi-cog","items":[{"type":"number","min":1000,"max":65000,"label":"Port","placeholder":"Enter port address on which iobroker will listen to your request","hint":"Port to listen on >1000 & <65000","value":"port","sm3":true,"prepend-icon":"mdi-home-import-outline","rules":["numberRule"],"cols":4},{"type":"html","label":"For Method field:","text":["Either <code>GET</code> or <code>POST</code> is supported.","By entering the below URL in your browser (changing iobroker-server to your server name or ip) you can test the \'Test\' entry:","<a target=\'_top\' href=\'http://myhost:port/Test?what=ok&length_$m=12&temp_$%C2%B0F=13&speed_$mp/h=88\'>http://myhost:port/Test?what=ok&length_$m=12&temp_$%C2%B0F=13&speed_$mp/h=88</a>"],"style":"width=\'98%\'","eval":"{for (i in $.text) $.text[i] = $.text[i].replace(/myhost:/g,this.iobrokerHostConnection ? this.iobrokerHostConnection.hostname + \':\' : \'my.iobroker.host:\').replace(/\\\\:port\\\\//g,`:${this.iobrokerConfig.port}/`)}","cols":8},{"type":"html","label":"For Path field:","text":["The external device can connect to the adapter\'s server using following example:","`http://myhost:port/<code>path</code>?data=...`"],"style":"width=\'98%\'","eval":"{for (i in $.text) $.text[i] = $.text[i].replace(/myhost:/g,this.iobrokerHostConnection ? this.iobrokerHostConnection.hostname + \':\' : \'my.iobroker.host:\').replace(/\\\\:port\\\\//g,`:${this.iobrokerConfig.port}/`)}","cols":4},{"type":"html","label":"For Convert field:","text":["Conversion receives data as variable $ and can convert it to some new format which will then be stored in state(s) named with path.","example: <code>{ tempC: FtoC($.tempf, 1) }</code> where FtoC an internal conversion for Farenheit to Celsius is.","Other functions are <code>toNum(str, digits_after_comma), CtoF(..) and ItoMM(...)</code>","The field names can end with \'_\' and type/unit information. The text after the \'_\' will be the type like with \'_date\',","or if type should be number with specific unit you can name it \'_$km/h\'.","There are some predefined types available as well which can be named directly (without $):","<code>\'Hum\', \'Kmh\', \'Deg\', \'Date\', \'Hpa\', \'Mm\', \'Wm2\', \'Txt\', \'C\', \'V\'</code> where V is just a number Value, the many of the other set also roles."],"style":"width=\'98%\'","cols":8},{"ruler":"hr"},{"type":"table","label":"Path Table","value":"pathtable","disable-sort":true,"cols":12,"items":[{"text":"Path","type":"string","value":"path","align":"start","rules":["uniqueTableRule"],"sortable":true,"divider":true,"default":"new path","width":"19%"},{"text":"Method","type":"select","select":["GET","POST"],"value":"method","align":"center","sortable":false,"divider":true,"width":"8%"},{"text":"Convert","value":"convert","type":"textarea","align":"start","default":"$","sortable":true,"divider":true,"width":"60%"},{"text":"Enabled","type":"checkbox","value":"enabled","sortable":false,"align":"center","divider":true,"width":"5%"}]}]},{"label":"Contact","icon":"mdi-phone","devOnly":true,"items":[{"typer":"text","label":"For Path field:","html":"The external device can connect to the adapter\'s server using following path: example `http://iobroker-server:port/<strong>path</strong>?data=...`","sm4":true,"class":"pa-1 align-self-end","style":"width=\'98%\'","cols":2},{"type":"string","label":"String","placeholder":"Enter HTML...","value":"string1","prepend-icon":"mdi-home-import-outline","rules":["($ && $.length>0) || \'String cannot be empty!\'"],"cols":3},{"ruler":"horizontal"},{"type":"checkbox","label":"Checkbox","value":"checkbox1","cols":2},{"type":"chips","label":"Chips","value":"chips1","select_O":["aaa","bbb",3,5],"delimiters":[",",";"],"flat":true,"hint":"please enter: old device name = new device name","rules":["{const f = $.filter(i => i.indexOf(\'=\')<1 || i.length <3); return !f.length ? true : `At least 3 chars and need to include an \'=\' after first position for ${f[0]}`;}"],"cols":6},{"type":"checkbox","value":"checkbox2"},{"ruler":"spacer","type":"switch","label":"Switch","value":"checkbox1"},{"type":"text","label":"Html Contact","html":"Das ist<br>html","attrs":{"sm4":true,"class":"pa-1"}},{"type":"vertical"},{"type":"text","label":"Text Contact","text":"Das ist Text","attrs":{"sm4":true,"class":"pa-2 align-self-center"}}]}]},"objects":[],"instanceObjects":[{"_id":"info","type":"channel","common":{"name":"Information"},"native":{}},{"_id":"info.connection","type":"state","common":{"role":"indicator.connected","name":"Device or service connected","type":"boolean","read":true,"write":false,"def":false},"native":{}}]}')},"3afa":function(e,t,o){var n=o("7578");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=o("499e").default;i("61df65aa",n,!0,{sourceMap:!1,shadowMode:!1})},4113:function(e,t,o){"use strict";var n=o("06d2"),i=o.n(n);i.a},4404:function(e,t,o){var n=o("24fb");t=n(!1),t.push([e.i,"html{overflow-y:auto!important}",""]),e.exports=t},4907:function(e,t,o){"use strict";var n=o("bd4b"),i=o.n(n);i.a},"49f8":function(e,t,o){var n={"./de.json":"6ce2","./en.json":"edd4","./es.json":"a306","./fr.json":"f693"};function i(e){var t=r(e);return o(t)}function r(e){if(!o.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id="49f8"},"56d7":function(e,t,o){"use strict";o.r(t);var n=o("2b0e"),i=(o("d4b8"),o("41e6"),o("f309")),r=o("5607");n["a"].use(i["a"],{directives:{Ripple:r["a"]}});var a=new i["a"]({icons:{iconfont:"mdi"}}),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:"",dense:"","elevate-on-scroll":"","scroll-target":"#MyAppContent"}},[n("div",{staticClass:"d-flex align-center"},[n("v-img",{staticClass:"shrink mr-2",attrs:{alt:e.iobrokerAdapter,contain:"",src:o("cbf9"),width:"35"}}),n("fjB",{attrs:{href:e.iobrokerAdapterCommon.readme,target:"_blank",text:"",img:"mdi-help-circle-outline",tooltip:"Goto readme for "+e.iobrokerAdapter,label:e.iobrokerAdapter+" v("+e.iobrokerPackage.version+")"}})],1),n("v-tabs",{attrs:{centered:""},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}},e._l(e.configTranslated,(function(t){return n("v-tab",{key:t.label},[t.icon?n("v-icon",{attrs:{left:"",small:""}},[e._v(e._s(t.icon))]):e._e(),n("span",{directives:[{name:"t",rawName:"v-t",value:t.label,expression:"item.label"}]})],1)})),1),n("v-spacer"),n("fjFileSaveButton",{attrs:{content:e.iobrokerConfig,opts:{type:"JSON",basename:e.iobrokerAdapter+"-config"},icon:"",small:"",text:"",tooltip:"Download Config JSON or shift-click to copy to clipboard",img:"mdi-briefcase-download"}}),n("fjFileLoadButton",{attrs:{text:"",icon:"",small:"",tooltip:"Upload Config JSON or drop config file here",img:"mdi-briefcase-upload",message:"Loaded config!"},on:{onchange:function(t){e.iobrokerConfig=arguments[0]}}}),n("fjB",{attrs:{text:"",disabled:!e.iobrokerConfigChanged,small:"",label:"Save",img:"mdi-content-save",tooltip:"Save current config"},on:{click:function(t){return t.stopPropagation(),e.saveAdapterConfig(null)}}}),n("fjAlerts",{attrs:{offsetX:0,offsetY:20}}),n("fjB",{attrs:{text:"",small:"",disabled:!e.iobrokerConfigChanged,dense:"",tooltip:"Save settings and close config",label:"Save&Close",img:"mdi-content-save-move"},on:{click:function(t){t.stopPropagation(),e.saveAdapterConfig(null).then((function(t){return e.closeAdapterConfig()}))}}}),n("fjB",{attrs:{text:"",small:"",dense:"",tooltip:"cancel and close config",label:"Cancel",img:"mdi-close"},on:{click:function(t){return t.stopPropagation(),e.closeAdapterConfig(t)}}})],1),n("v-content",{staticClass:"flex-wrap",attrs:{id:"MyAppContent"}},[e.devMode?n("div",[n("fjB",{staticClass:"ma-1",attrs:{label:"getEnums"},on:{click:function(t){e.getEnums("").then((function(t){return e.setTmp(t)}))}}}),n("fjB",{staticClass:"ma-1",attrs:{label:"getGroups"},on:{click:function(t){e.getGroups().then((function(t){return e.setTmp(t)}))}}}),n("fjB",{staticClass:"ma-1",attrs:{label:"getUsers"},on:{click:function(t){e.getUsers().then((function(t){return e.setTmp(t)}))}}}),n("fjB",{staticClass:"ma-1",attrs:{label:"config"},on:{click:function(t){return e.setTmp(e.iobrokerConfig)}}}),n("fjB",{staticClass:"ma-1",attrs:{label:"configTranslated"},on:{click:function(t){return e.setTmp(e.configTranslated)}}}),n("fjB",{staticClass:"ma-1",attrs:{label:"getExtendableInstances"},on:{click:function(t){e.getExtendableInstances().then((function(t){return e.setTmp(t)}))}}}),n("fjB",{staticClass:"ma-1",attrs:{label:"getAdapterInstances"},on:{click:function(t){e.getAdapterInstances().then((function(t){return e.setTmp(t)}))}}}),n("fjB",{staticClass:"ma-1",attrs:{label:"getState"},on:{click:function(t){e.getState("acceptdata.0.easyweather.outdoorTemp").then((function(t){return e.setTmp(t)}))}}}),n("fjB",{staticClass:"ma-1",attrs:{label:"getObject"},on:{click:function(t){e.getObject("acceptdata.0.easyweather.outdoorTemp").then((function(t){return e.setTmp(t)}))}}}),n("fjB",{staticClass:"ma-1",attrs:{label:"getHost"},on:{click:function(t){e.getHost(e.iobrokerAdapterCommon.host).then((function(t){return e.setTmp(t)}))}}}),n("fjB",{staticClass:"ma-1",attrs:{label:e.$tc("getMissing",2)},on:{click:function(t){return e.setTmp(e.$missing)}}}),n("fjB",{staticClass:"ma-1",attrs:{label:e.$tc("getInterfaces",2)},on:{click:function(t){e.getInterfaces().then((function(t){return e.setTmp(t)}))}}}),n("fjB",{staticClass:"ma-1",attrs:{label:e.$tc("loadSystemConfig",2)},on:{click:function(t){e.loadSystemConfig().then((function(t){return e.setTmp(t)}))}}}),n("fjB",{staticClass:"ma-1",attrs:{label:"alerttest"},on:{click:function(t){return e.$alert("0|error:Forever")}}})],1):e._e(),n("v-container",{attrs:{fluid:""}},[n("v-row",{staticClass:"px-2"},e._l(e.configPage.items,(function(t,o){return n("fjConfigElement",{key:o,attrs:{cItem:e.iobrokerConfig,cToolItem:t}})})),1)],1),e.devMode?n("code",{staticClass:"error--text text--darken-4",domProps:{textContent:e._s(e.tmptext)}}):e._e()],1),n("fjConfirm")],1)},l=[];const c={filters:{nFormat:(e,t,o)=>{if(void 0!==o||"object"!==typeof t&&"string"!==typeof t?o?"string"===typeof o&&void 0!==t&&(o={postfix:o}):o={}:(o=t,t=void 0),"string"===typeof o){const e=o.match(/^([.,?]?)(\d+)?(\;?)(\-[^\+]+)?\+?(.*)$/);o={},e&&(t=void 0===e[2]&&void 0===t?0:Number(e[2]),e[1]&&(o.decimalPoint=e[1]),o.sepThousands=!!e[3],e[4]&&e[4].startsWith("-")?o.prefix=e[4].slice(1):o.prefix="",o.postfix=e[5])}if(void 0!==t?isNaN(Number(t))||(t=Number(t)):t=Number(o.digits),(void 0===t||isNaN(t))&&(t=0),o.digits&&!isNaN(Number(o.digits))&&(t=Number(o.digits)),"?"===o.decimalPoint&&(o.decimalPoint="en"==mylang?".":","),e=Number(e),e=isNaN(e)?"":e.toFixed(t).toString(),o.decimalPoint&&(e=e.replace(".",o.decimalPoint)),o.sepThousands){const t=","===o.decimalPoint?".":",",n=","===t?".":",",i=e.split(n);e=i[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+t),i[1]&&(e+=n+i[1].replace(/(\d{3})(?=\d)/g,"$1"+t))}return o.prefix&&(e=o.prefix+" "+e),o.postfix&&(e+=" "+o.postfix),e}},methods:{async Presolve(e){return Promise.resolve(e)},async wait(e,t){return e=Number(e)||0,(isNaN(e)||e<0)&&(e=0),await new Promise(o=>setTimeout(()=>o(t),e))},async pSequence(e,t,o){o=o||0,Array.isArray(e)||"object"!==typeof e||(e=Object.entries(e).filter(t=>e.hasOwnProperty(t[0])));const n=[];for(let r of e){n.length&&await this.wait(o);try{const e=await t(r);n.push(e)}catch(i){n.push(i)}}return n},numberFormat(e,...t){return this.$options&&this.$options.filters&&this.$options.filters["nFormat"]?this.$options.filters["nFormat"](e,...t):e},convCsv(e,t){function o(e,t,o){t=t||",",o=o||'"';for(var n=e.split(t),i=[],r=0;r<n.length;++r)if(n[r].indexOf(o)>=0){for(var a=-1,s=n[r],l=r+1;l<n.length;++l)if(n[l].indexOf(o)>=0){a=l;break}if(-1!=a){for(l=r+1;l<=a;++l)s=s+t+n[l];i.push(s),r=a}else i.push(n[r])}else i.push(n[r]);return i}const{sep:n,lineSep:i,noHeader:r,quotes:a}=Object.assign({sep:",",lineSep:"\n",quotes:'"'},t||{});e=e||"";const s=e.split(i).map(e=>e.trim()),l=o(s[0],n,a).map((e,t)=>r?t:e.trim()),c={};for(let p=r?0:1;p<s.length;p++){const e=o(s[p],n,a).map(e=>e.trim());for(let t=0;t<l.length;t++){const o=l[t];if(o){c[o]||(c[o]=[]);const n=c[o],i=e[t];n[r?p:p-1]="0"===i||Number(i)?Number(i):i}}}return c}}};var p=c,d=o("9224"),u=o("33d7");const m=!1,f=(navigator.language||navigator.userLanguage).slice(0,2),h={data(){return{iobrokerConfigOrig:"",iobrokerHost:"",iobrokerHostConnection:{},iobrokerLang:f||"en",iobrokerInstance:window.location.search.slice(1)||"0",iobrokerConfig:u.native,ioBrokerSystemConfig:{},iobrokerAdapter:u.common.name,iobrokerPackage:d,iobrokerIoPackage:u,iobrokerAdapterCommon:u.common,ioBrokerCerts:[],socketConnected:!1,devMode:m}},sockets:{async connect(){this.socketConnected=!0,this.iobrokerHostConnection=this.$socket.io.opts,this.$alert("socket connected...")},disconnected(){this.socketConnected=!0,this.$alert("Socket disconnected. try to reconnect..."),this.$socket.open()}},computed:{ioBrokerCompareConfig(){return JSON.stringify(this.iobrokerConfig)},iobrokerConfigChanged(){return this.iobrokerConfigOrig!=this.ioBrokerCompareConfig},iobrokerAdapterInstance(){return this.iobrokerAdapter+"."+this.iobrokerInstance},configTranslated(){const e=this;function t(o){const n=Object.getOwnPropertyNames(o);for(const t of n)["label","text","html","tooltip","placeholder","hint"].indexOf(t)>=0&&(o[t]=e.$t(o[t]));if(Array.isArray(o.items))for(const e of o.items)t(e);if(o.eval){const t=o.eval.trim(),n=new Function("$",t.startsWith("{")?t:`return (${t});`);try{n.apply(e,[o])}catch(i){console.log("eval error in translation:",o,i,e)}}return o}const o=this.iobrokerConfig&&this.iobrokerConfig._configTool,n=this.iopackage&&this.iopackage.native&&this.iopackage.native._configTool,i=this.copyObject(o&&o.length?o:n&&n.length?n:[]);console.log("new config to translate:",i,this.iobrokerHostConnection.hostname,this.iobrokerConfig.port);const r=[];for(const a of i)!m&&a.devOnly||r.push(t(a));return r}},created(){this.iobrokerInstance=window.location.search.slice(1)||"0"},beforeMount(){this.iobrokerHostConnection=this.$socket.io.opts},async mounted(){return this.iobrokerHostConnection=this.$socket.io.opts,this.loadIoBroker()},methods:{copyObject(e){return JSON.parse(JSON.stringify(e))},setIobrokerConfig(e){const t=JSON.stringify(e||{});this.iobrokerConfig=JSON.parse(t),this.iobrokerConfigOrig=t},async loadIoBroker(){const e="system.adapter."+this.iobrokerAdapterInstance,t=await this.socketEmit("getObject",e);return t?(this.setIobrokerConfig(t.native),t.common&&(this.iobrokerAdapterCommon=t.common),this.$alert("new config received"),await this.wait(10),this.$forceUpdate(),t):(console.log(`No Adapterconfig received for ${e}!`),null)},async sendTo(e,t,o){return this.socketSendTo("sendTo",e||this.iobrokerAdapterInstance,t,o)},async sendToHost(e,t,o){return this.socketSendTo("sendToHost",e||this.iobrokerAdapterCommon.host,t,o)},async getInterfaces(e){const t=await this.sendToHost(null,"getInterfaces",null);return t&&t.result?e?Object.keys(t.result):Object.entries(t.result):[]},async getHost(e){e=e||this.iobrokerAdapterCommon.host;const t=await this.socketEmit("getHostByIp",e).then(e=>this.iobrokerHost=e,e=>null);return t},async saveAdapterConfig(e){const t=this.iobrokerConfig,o="system.adapter."+this.iobrokerAdapterInstance,n=await this.socketEmit("getObject",o).catch(e=>console.log("GetAdapterConfig:",o,e))||{};if(n.native)n.native={};else if(!e)return null;for(var i in t)t.hasOwnProperty(i&&"_configTool"!=i)&&(n.native[i]=t[i]);if(e)for(var r in Object.getOwnPropertyNames(e))n.common[r]=e[r];return await this.socketEmit("setObject",o,n).then(e=>this.$alert("config saved"),e=>this.$alert("error:Save config error "+e)),this.setIobrokerConfig(t),await this.wait(10),!0},async closeAdapterConfig(){const e=!this.iobrokerConfigChanged||await this.$confirm("okColor=error darken-2|Really exit without saving?");return e&&this.$alert("close now "+e),e},async getObject(e){return await this.socketEmit("getObject",e).then(e=>e,t=>(console.log("getObject err:",e,t),null))},async getState(e){return this.socketEmit("getState",e).then(e=>e,e=>(console.log(e),null))},async getEnums(e){return this.socketEmit("getObjectView","system","enum",{startkey:"enum."+e,endkey:"enum."+e+".香"}).then(t=>{for(var o={},n=0;n<t.rows.length;n++)t.rows[n].id!=="enum."+e&&(o[t.rows[n].id]=t.rows[n].value);return o},e=>(console.log(e),[]))},async getGroups(){return this.socketEmit("getObjectView","system","group",{startkey:"system.group.",endkey:"system.group.香"}).then(e=>{for(var t={},o=0;o<e.rows.length;o++)t[e.rows[o].id]=e.rows[o].value;return t},e=>(console.log(e),[]))},async getUsers(){return this.socketEmit("getObjectView","system","user",{startkey:"system.user.",endkey:"system.user.香"}).then(e=>{for(var t={},o=0;o<e.rows.length;o++)t[e.rows[o].id]=e.rows[o].value;return t},e=>(console.log(e),[]))},async getAdapterInstances(e){return e=e||this.iobrokerAdapter,this.socketEmit("getObjectView","system","instance",{startkey:"system.adapter."+e,endkey:"system.adapter."+e+".香"}).then(e=>{for(var t=[],o=0;o<e.rows.length;o++)t.push(e.rows[o].value);return t},e=>(console.log(e),[]))},async getExtendableInstances(e){return e=e||this.iobrokerAdapter,this.socketEmit("getObjectView","system","instance",null).then(e=>{for(var t=[],o=0;o<e.rows.length;o++)e.rows[o].value.common.webExtendable&&t.push(e.rows[o].value);return t},e=>(console.log(e),[]))},async loadSystemConfig(){console.log("load system config");let e=await this.socketEmit("system.config").then(e=>e,e=>(console.log("system.config err:",e),null));if(e&&e.common&&(this.ioBrokerSystemConfig=e,this.iobrokerLang=e.common.language||this.iobrokerLang,this.$i18n.locale=this.iobrokerLang),e=await this.socketEmit("system.certificates").then(e=>e,e=>(console.log("system.certificates err",e),null)),e&&e.native&&e.native.certificates)for(var t in this.ioBrokerCerts=[],e.native.certificates)if(e.native.certificates.hasOwnProperty(t)&&e.native.certificates[t])if(e.native.certificates[t].length<700&&(-1!==e.native.certificates[t].indexOf("/")||-1!==e.native.certificates[t].indexOf("\\"))){var o={name:t,type:""};-1!==t.toLowerCase().indexOf("private")||-1!==e.native.certificates[t].toLowerCase().indexOf("private")?o.type="private":(-1!==t.toLowerCase().indexOf("public")||-1!==e.native.certificates[t].toLowerCase().indexOf("public"))&&(o.type="public"),this.ioBrokerCerts.push(o)}else{var n={name:t,type:"-----BEGIN RSA PRIVATE KEY"===e.native.certificates[t].substring(0,"-----BEGIN RSA PRIVATE KEY".length)||"-----BEGIN PRIVATE KEY"===e.native.certificates[t].substring(0,"-----BEGIN PRIVATE KEY".length)?"private":"public"};if("public"===n.type){for(var i=e.native.certificates[t].split("-----END CERTIFICATE-----"),r=0,a=0;a<i.length;a++)i[a].replace(/\r\n|\r|\n/,"").trim()&&r++;r>1&&(n.type="chained")}this.ioBrokerCerts.push(n)}return this.ioBrokerSystemConfig}}};var b=h;var v={name:"App",mixins:[p,b],data:()=>({page:0,tmptext:""}),methods:{setTmp(e,t){const o="number"==typeof e||"string"==typeof e?e:JSON.stringify(e,null,2);t?this.tmptext+="\n"+o:this.tmptext=""+o}},computed:{configPage(){const e=this.configTranslated[this.page];return e||{items:[]}}}},g=v,y=(o("4907"),o("2877")),k=o("6544"),x=o.n(k),T=o("7496"),w=o("40dc"),C=o("a523"),I=o("a75b"),_=o("132d"),j=o("adda"),O=o("0fd9"),$=o("2fa4"),A=o("71a3"),S=o("fe57"),N=Object(y["a"])(g,s,l,!1,null,null,null),E=N.exports;x()(N,{VApp:T["a"],VAppBar:w["a"],VContainer:C["a"],VContent:I["a"],VIcon:_["a"],VImg:j["a"],VRow:O["a"],VSpacer:$["a"],VTab:A["a"],VTabs:S["a"]});var P=o("a925");function B(){const e=o("49f8"),t={};return e.keys().forEach(o=>{const n=o.match(/([A-Za-z0-9-_]+)\./i);if(n&&n.length>1){const i=n[1];t[i]=e(o)}}),t}n["a"].use(P["a"]);var M=new P["a"]({locale:"en",fallbackLocale:"en",messages:B(),silentTranslationWarn:!0}),V=o("cda3"),F=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"resize",rawName:"v-resize",value:e.resize,expression:"resize"}]},[e.items.length?o("v-menu",{attrs:{dense:"",value:!0,"offset-y":"","position-x":e.posx,"position-y":e.posy,"close-on-content-click":!1,"close-on-click":!1,mode:"out-in",transition:"scale-transition"}},e._l(e.items,(function(t,n){return o("transition",{key:n,attrs:{name:"slide-fade"}},[o("v-alert",{staticClass:"ma-2",attrs:{mode:"in-out",origin:"transform-origin: -100% 50%;",border:"top","colored-border":"",color:t.color,dense:"",type:t.type,label:t.label,elevation:"5"},scopedSlots:e._u([{key:"append",fn:function(){return[o("fjB",{staticClass:"ml-2",attrs:{small:"",right:e.label,icon:!e.label,text:"",label:e.$t(e.label),img:"mdi-close"},on:{click:function(t){return t.stopPropagation(),e.deleteAlert(n)}}})]},proxy:!0}],null,!0)},[o("span",{staticClass:"body-2",domProps:{innerHTML:e._s(e.$t(t.text))}})])],1)})),1):e._e(),e._t("default")],2)},R=[],L={name:"fjAlerts",props:{selector:{type:String,default:""},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},timeout:{type:Number,default:6}},data(){return{posx:0,posy:0,idCount:0,items:[],label:""}},methods:{addAlert(e){const t=this,o={warning:10,error:20,info:4,success:5,primary:6,[void 0]:3};if(e=e||{},"string"===typeof e){let t=e.trim();const n=t.match(/^(?:(\d*(?=\|))?\|?(warning|error|info|success|primary)\:)?(.*)$/i);e=n?{label:"",timeout:n[1]?Number(n[1]):o[n[2]],text:n[3],type:n[2]||"primary"}:{text:t,color:"primary lighten-4"}}if("primary"===e.type&&(e.type=null,e.color||(e.color="primary lighten-2")),!e.text&&e.tt&&(e.text=this.$dictionary.translate(e.tt)),e=Object.assign({timeout:this.timeout,id:this.idCount++,text:"<>"},e),e.label&&(this.label=e.label),e.timeout){const o=e.id;e.hastimeout=setTimeout(n=>{e.hastimeout=null;const i=t.items.findIndex(e=>e.id===o);i>=0&&t.items.splice(i,1)},1e3*e.timeout)}return this.items.push(e),Promise.resolve(null)},deleteAlert(e){this.items[e].hastimeout&&(clearTimeout(this.items[e].hastimeout),this.items[e].hastimeout=null),this.items.splice(e,1)},random(e,t){return Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:"number"===typeof t?Math.random()*(t-e)+e:"number"===typeof e?Math.random()*e:Math.random()},resize(){const e=this.$el;this.posx=e.getBoundingClientRect().left+this.offsetX,this.posy=e.getBoundingClientRect().bottom+this.offsetY}},created(){n["a"].prototype.$alert=this.addAlert.bind(this)},beforeDestroy(){while(this.items.length>0)this.deleteAlert(0)},mounted(){this.$nextTick(e=>this.resize())}},J=L,D=(o("4113"),o("0798")),z=o("e449"),H=o("269a"),U=o.n(H),q=o("dc22"),G=Object(y["a"])(J,F,R,!1,null,null,null),W=G.exports;x()(G,{VAlert:D["a"],VMenu:z["a"]}),U()(G,{Resize:q["a"]});var K=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-dialog",{style:{zIndex:e.options.zIndex},attrs:{"max-width":e.options.width},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel(t)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:e.options.color,dense:"",flat:""}},[o("v-toolbar-title",{directives:[{name:"t",rawName:"v-t",value:e.options.title,expression:"options.title"}],staticClass:"white--text"})],1),o("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!e.options.message,expression:"!!options.message"}],staticClass:"pa-4",domProps:{innerHTML:e._s(e.$t(e.options.message))}}),o("v-card-actions",{staticClass:"pt-0"},[o("v-spacer"),o("v-btn",{attrs:{color:e.options.okColor,text:""},nativeOn:{click:function(t){return e.agree(t)}}},[e.options.okIcon?o("v-icon",{attrs:{left:""},domProps:{textContent:e._s(e.options.okIcon)}}):e._e(),o("span",{directives:[{name:"t",rawName:"v-t",value:e.options.okText,expression:"options.okText"}]})],1),o("v-btn",{attrs:{color:e.options.cancelColor,text:""},nativeOn:{click:function(t){return e.cancel(t)}}},[o("span",{directives:[{name:"t",rawName:"v-t",value:e.options.cancelText,expression:"options.cancelText"}]}),e.options.cancelIcon?o("v-icon",{attrs:{right:""},domProps:{textContent:e._s(e.options.cancelIcon)}}):e._e()],1)],1)],1)],1)},Y=[],X={data:()=>({dialog:!1,resolve:null,options:{}}),props:{defaults:{type:Object,default:()=>({})}},methods:{open(e,t){const o={color:"primary",cancelColor:"grey darken-1",okColor:"success darken-1",okText:"Yes",okIcon:"mdi-check",cancelIcon:"mdi-close",cancelText:"No",message:"",title:"",width:390,zIndex:200};if(t=t||{},!t.title&&e.indexOf("|")>0){const n=e.indexOf("|");t.message=e.slice(n+1);const i=e.slice(0,n).split(",").map(e=>e.trim().split("=").map(e=>e.trim())),r=Object.keys(o).map(e=>e.toLowerCase());let a;for(a of i){const e=a[0],n=a[1],i=r.indexOf(e.toLowerCase());e&&i>=0&&(t[Object.keys(o)[i]]=void 0===n||(Number(n)?Number(n):n))}}else t.message=e;t.title||(t.title="Please confirm:"),this.title=t.title,this.message=t.message;const n=Object.assign({},o,this.defaults,t);return this.options=Object.assign({},this.options,n),this.dialog=!0,new Promise(e=>{this.resolve=e})},agree(){this.$nextTick().then(e=>this.resolve(!0)),this.dialog=!1},cancel(){this.$nextTick().then(e=>this.resolve(!1)),this.dialog=!1}},created(){n["a"].prototype.$confirm=this.open.bind(this)}},Z=X,Q=o("8336"),ee=o("b0af"),te=o("99d9"),oe=o("169a"),ne=o("71d9"),ie=o("2a7f"),re=Object(y["a"])(Z,K,Y,!1,null,null,null),ae=re.exports;x()(re,{VBtn:Q["a"],VCard:ee["a"],VCardActions:te["a"],VCardText:te["b"],VDialog:oe["a"],VIcon:_["a"],VSpacer:$["a"],VToolbar:ne["a"],VToolbarTitle:ie["a"]});var se=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.nCols?o("v-col",{staticClass:"pa-1",attrs:{cols:e.nCols}},[e._l(e.nRuler,(function(e,t){return o("fjConfigRuler",{key:t,attrs:{ruler:e}})})),e.cToolItem.type?o("fjConfigItem",{attrs:{cToolItem:e.nToolItem,cItem:e.cItem}}):e._e()],2):o("span",[e._l(e.nRuler,(function(e,t){return o("fjConfigRuler",{key:t,attrs:{ruler:e}})})),e.cToolItem.type?o("fjConfigItem",{attrs:{cToolItem:e.nToolItem,cItem:e.cItem}}):e._e()],2)},le=[],ce=function(){var e=this,t=e.$createElement,o=e._self._c||t;return"text"==e.cToolItem.type?o("v-flex",e._b({},"v-flex",e.attrs("html,text,label"),!1),[e.cToolItem.label?o("div",{staticClass:"subtitle-2",domProps:{textContent:e._s(e.cToolItem.label)}}):e._e(),e.cToolItem.text?o("div",{staticClass:"caption",domProps:{textContent:e._s(e.cToolItem.text)}}):e._e(),e.cToolItem.html?o("div",{staticClass:"caption",domProps:{innerHTML:e._s(e.cToolItem.html)}}):e._e()]):"html"==e.cToolItem.type?o("v-flex",e._b({},"v-flex",e.attrs("text,label"),!1),[e.cToolItem.label?o("div",{staticClass:"subtitle-2",domProps:{textContent:e._s(e.cToolItem.label)}}):e._e(),Array.isArray(e.cToolItem.text)?o("div",{staticClass:"caption",domProps:{innerHTML:e._s(e.cToolItem.text.join("<br>"))}}):o("div",{staticClass:"caption",domProps:{innerHTML:e._s(e.cToolItem.text)}})]):"number"==e.cToolItem.type?o("v-text-field",e._b({attrs:{dense:"","hide-details":"auto"},model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-text-field",e.attrs("min,max"),!1)):"string"==e.cToolItem.type?o("v-text-field",e._b({attrs:{dense:"","hide-details":"auto"},model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-text-field",e.attrs(),!1)):"checkbox"==e.cToolItem.type&&e.cToolItem.label?o("v-checkbox",e._b({attrs:{dense:"","hide-details":"auto"},model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-checkbox",e.attrs(),!1)):"select"==e.cToolItem.type?o("v-select",e._b({attrs:{items:e.cToolItem.select,dense:""},model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-select",e.attrs(),!1)):"textarea"==e.cToolItem.type?o("v-textarea",e._b({staticStyle:{"font-family":"monospace !important","font-size":"14px"},attrs:{"auto-grow":"","row-height":"15","hide-details":"auto",rows:e.cItem[e.cToolItem.value].split("\n").length,dense:""},model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-textarea",e.attrs(),!1)):"chips"==e.cToolItem.type?o("v-combobox",e._b({attrs:{items:e.cToolItem.select||[],chips:"",dense:"","hide-details":"auto","deletable-chips":"","search-input":e.search,multiple:""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-combobox",e.attrs(),!1)):"table"==e.cToolItem.type?o("fjConfigTable",e._b({attrs:{columns:e.cToolItem.items,items:e.cItem[e.cToolItem.value]}},"fjConfigTable",e.attrs(),!1)):"checkbox"!=e.cToolItem.type||e.cToolItem.label?"switch"==e.cToolItem.type?o("v-switch",e._b({attrs:{dense:"","hide-details":"auto"},model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-switch",e.attrs(),!1)):o("div",e._b({},"div",e.attrs(),!1),[e._v(" "+e._s(e.cToolItem)+" "+e._s(e.cToolItem.value?e.cItem[e.cToolItem.value]:"")+" ")]):o("v-simple-checkbox",e._b({model:{value:e.cItem[e.cToolItem.value],callback:function(t){e.$set(e.cItem,e.cToolItem.value,t)},expression:"cItem[cToolItem.value]"}},"v-simple-checkbox",e.attrs(),!1))},pe=[],de={name:"fjConfigItem",data(){return{search:null}},props:{cToolItem:{type:Object,default:()=>({type:"none"})},cItem:{type:Object,default:()=>({})},cTable:{type:Object,default:()=>({})}},methods:{removeChip(e){this.cItem[this.cToolItem.value].splice(this.cItem[this.cToolItem.value].indexOf(e),1)},numberRule(e){const t=Number(e);return isNaN(t)?this.$t("You can enter only a number here!"):void 0!=this.cToolItem.min&&t<this.cToolItem.min?this.$t("Number should not be lower than ")+this.cToolItem.min:!(void 0!=this.cToolItem.max&&t>this.cToolItem.max)||this.$t("Number should not be bigger than ")+this.cToolItem.min},uniqueTableRule(e){const{items:t,index:o,column:n}=this.cTable,i=(""+e).trim(),r=n.value,a=t.filter((e,t)=>t!=o&&(""+e[r]).trim()==i);return!a.length||"This item can only be once per table in this field!"},attrs(e){const t=["type","value","attrs","min","max"];e&&("string"===typeof e?t.push(...e.split(",").map(e=>e.trim())):Array.isArray(e)&&t.push(...e));const o=Object.assign({},this.cToolItem.attrs?this.cToolItem.attrs:{class:"pa-1"},this.cToolItem),n=o.rules,i=[];if(n&&n.length){for(let e in n){let t=n[e];"function"==typeof t?i.push(t):"string"==typeof t&&t.trim()&&(t=t.trim(),"function"==typeof this[t]?i.push(this[t].bind(this)):i.push(new Function("$",t.startsWith("return ")||t.startsWith("{")?t:`return ${t};`)))}o.rules=i}for(let r of t)delete o[r];for(let r of["text","label","placeholder","hint"])"string"==typeof o[r]&&(o[r]=this.$t(o[r]));return o}}},ue=de,me=o("ac7c"),fe=o("2b5d"),he=o("0e8f"),be=o("b974"),ve=o("9e88"),ge=o("b73d"),ye=o("8654"),ke=o("a844"),xe=Object(y["a"])(ue,ce,pe,!1,null,null,null),Te=xe.exports;x()(xe,{VCheckbox:me["a"],VCombobox:fe["a"],VFlex:he["a"],VSelect:be["a"],VSimpleCheckbox:ve["a"],VSwitch:ge["a"],VTextField:ye["a"],VTextarea:ke["a"]});var we=function(){var e=this,t=e.$createElement,o=e._self._c||t;return"hr"==e.type||"line"==e.type?o("v-col",{attrs:{cols:"12"}},[o("v-divider",{class:"py-"+e.value})],1):"horizontal"==e.type?o("v-col",{class:"py-"+e.value,attrs:{cols:"12"}},[o("v-spacer")],1):"vertical"==e.type?o("v-divider",{class:"px-"+e.value,attrs:{vertical:""}}):o("v-spacer")},Ce=[],Ie={name:"fjConfigRuler",data(){return{}},props:{ruler:{type:Array,default:()=>[]}},computed:{type(){return this.ruler[0]},value(){return this.ruler[1]}}},_e=Ie,je=o("62ad"),Oe=o("ce7e"),$e=Object(y["a"])(_e,we,Ce,!1,null,null,null),Ae=$e.exports;x()($e,{VCol:je["a"],VDivider:Oe["a"],VSpacer:$["a"]});var Se=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"pa-0 elevation-2"},[o("v-toolbar",{attrs:{dark:"",height:"36",color:"primary"}},[e.icon?o("v-icon",{attrs:{left:""}},[e._v(e._s(e.icon))]):e._e(),o("v-toolbar-title",{staticClass:"subtitle-2"},[e._v(e._s(e.label))]),o("v-spacer"),o("v-text-field",{staticClass:"body-1",attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":"",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),o("v-spacer"),o("fjB",{attrs:{text:"",small:"",label:"Add entry",img:"mdi-playlist-plus"},on:{click:e.addRow}})],1),o("v-data-table",{attrs:{dense:"",headers:e.icolumns,items:e.items,search:e.search,disableSort:e.disableSort},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item,i=t.headers,r=t.index;return[o("tr",{staticClass:"alternate"},e._l(i,(function(t){return o("td",{key:t.value,staticStyle:{padding:"0px 1px 0px 1px"}},["-"==t.value?o("span",{staticClass:"d-flex justify-end"},[e.disableSort?o("fjB",{attrs:{disabled:!r,color:"primary darken-4",img:"mdi-transfer-up",tooltip:"move item one line up"},on:{click:function(t){return t.stopPropagation(),e.itemMove(r,-1)}}}):e._e(),e.disableSort?o("fjB",{attrs:{color:"primary darken-4",disabled:r>=e.items.length-1,img:"mdi-transfer-down",tooltip:"move item one line down"},on:{click:function(t){return t.stopPropagation(),e.itemMove(r,1)}}}):e._e(),o("fjB",{attrs:{img:"mdi-delete-forever",color:"error darken-4",tooltip:"delete item"},on:{click:function(t){return t.stopPropagation(),e.itemDelete(r)}}})],1):o("fjConfigItem",{attrs:{cItem:n,cToolItem:t,cTable:e.cTable(r,t)}})],1)})),0)]}}])})],1)},Ne=[],Ee={name:"fjConfigTable",props:{items:{type:Array,required:!0},columns:{type:Array,required:!0},label:{type:String,required:!1,default:""},icon:{type:String,required:!1,default:"mdi-table"},disableSort:{type:Boolean,required:!1,default:!1}},data:()=>({search:""}),methods:{async itemDelete(e){return this.$confirm(`Do you really want to delete item[${e}]`).then(t=>this.items.splice(e,1))},itemMove(e,t){const o=this.items.splice(e,1);this.items.splice(e+t,0,o[0])},numberRule(e){const t=Number(e);return isNaN(t)?this.$t("You can enter only a number here!"):void 0!=this.cToolItem.min&&t<this.cToolItem.min?this.$t("Number should not be lower than ")+this.cToolItem.min:!(void 0!=this.cToolItem.max&&t>this.cToolItem.max)||this.$t("Number should not be bigger than ")+this.cToolItem.min},cTable(e,t){return{items:this.items,index:e,column:t}},addRow(){let e={};this.columns.forEach((t,o)=>{e[t.value]=void 0!==t.default?t.default:{text:"",string:"",textarea:"",number:0,select:t.select&&t.select.find(e=>void 0!=e)||"",checkbox:!1,chips:[]}[t.type]||""}),this.items.push(e),this.snackText="Added Row."}},computed:{icolumns(){return[...this.columns,{text:"Edit",value:"-",align:"center",width:this.searchDisabled?"10%":"5%"}]}}},Pe=Ee,Be=(o("d1dc"),o("8fea")),Me=Object(y["a"])(Pe,Se,Ne,!1,null,null,null),Ve=Me.exports;x()(Me,{VDataTable:Be["a"],VIcon:_["a"],VSpacer:$["a"],VTextField:ye["a"],VToolbar:ne["a"],VToolbarTitle:ie["a"]}),n["a"].component("fjConfigItem",Te),n["a"].component("fjConfigRuler",Ae),n["a"].component("fjConfigTable",Ve);var Fe={name:"fjConfigElement",data(){return{nToolItem:{},nRuler:[],nCols:0}},props:{cToolItem:{type:Object,default:()=>({type:"none"})},cItem:{type:Object,default:()=>({})}},created(){const e=Object.assign({},this.cToolItem);let{ruler:t,cols:o,rcols:n}=e;delete e.ruler,delete e.cols,this.nToolItem=e,this.nCols=o,t=t&&t.split("|").map(e=>(e=e&&e.trim().split("=").map(e=>e.trim())||[],1==e.length&&e.push(1),e)),this.nRuler=t||[]}},Re=Fe,Le=Object(y["a"])(Re,se,le,!1,null,null,null),Je=Le.exports;x()(Le,{VCol:je["a"]});var De=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("fjB",e._b({class:e.over?e.dropclass:"",attrs:{label:e.over?e.droplabel:e.label,loading:e.loading,disabled:e.loading},on:{click:function(t){return t.stopPropagation(),e.triggerLoad(t)}}},"fjB",e.$attrs,!1),[o("input",{staticStyle:{display:"none"},attrs:{type:"file",id:e.myId},on:{change:e.loadTextFromFile}})])},ze=[],He=o("ec67"),Ue=He["a"],qe=Object(y["a"])(Ue,De,ze,!1,null,null,null),Ge=qe.exports,We=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("fjB",e._b({on:{click:function(t){return e.saveFile(e.content,e.opts,t)}}},"fjB",e.$attrs,!1))},Ke=[],Ye=o("21a6"),Xe=o("4eb5"),Ze=o.n(Xe);n["a"].use(Ze.a);var Qe={name:"fjFileSaveButton",components:{fjB:V["a"]},props:{content:{type:Object,default:()=>"empty file!"},opts:{type:Object,default:()=>({type:"JSON"})}},computed:{},methods:{consoleLog(...e){console.log(...e)},doCopyClipboard(e){const t=this;return e?("string"!==typeof e&&(e=JSON.stringify(e,null,2)),this.$copyText(e).then(e=>{t.$alert("2|success:Copied to clipboard!")},e=>{t.$alert("warning:Cannot copy!")})):Promise.resolve()},exportFile(e,t){if(void 0===e||null===e)return{str:""};t=t||{type:"string"===typeof e?"Text":"JSON"};let{type:o,addAtStart:n,addAtEnd:i,saveWithJSON:r,name:a,fileName:s,basename:l,skippedAfterEnd:c,skippedAtStart:p}=t;const d={JSON:{stringify:!0,ending:".json",mime:"application/json"},Javascript:{stringify:!0,ending:".js",mime:"application/javascript"},Text:{ending:".txt",mime:"text/plain"}};let{stringify:u,ending:m,mime:f}=d[o]||d.Text;u=u||r,a||(a=s||(l||"file")+m),n=("!"===n?p:n&&n.split("\\n").join("\n"))||"",i=("!"===i?c:i&&i.split("\\n").join("\n"))||"";const h=n+(u?JSON.stringify(e,null,2):e)+i;return{name:a,str:h,mime:f,ending:m}},saveFile(e,t,o){const{mime:n,str:i,name:r}=this.exportFile(e,t);if(!n)return Promise.reject("invalid value to save!");if(o.shiftKey)return o.preventDefault(),o.str=i.toString(),this.doCopyClipboard(o.str),!1;const a=new Blob([i],{type:n+";charset=utf-8"});return Object(Ye["saveAs"])(a,r)}},created(){"function"!=typeof this.$alert&&(n["a"].prototype.$alert=this.consoleLog)},mounted(){}},et=Qe,tt=Object(y["a"])(et,We,Ke,!1,null,null,null),ot=tt.exports,nt=o("8055"),it=o.n(nt),rt=o("5132"),at=o.n(rt);const st={path:"/socket.io"},lt=!1,ct="ws://localhost:8181/",pt=it()(ct,st),dt=((navigator.language||navigator.userLanguage).slice(0,2),function(e,t){e.mixin({methods:{async socketEmit(e,...t){return new Promise((o,n)=>{let i=setTimeout(()=>n(i=null,new Error(`socketEmit - timeout for ${e}: ${t}`)),5e3);this.$socket.emit(e,...t,(e,t)=>{i&&clearTimeout(i),e?n(e):o(t)})})},async socketSendTo(e,...t){return new Promise((o,n)=>{let i=setTimeout(()=>n(i=null,new Error(`socketSendTo - timeout for ${e}: ${t}`)),1e4);this.$socket.emit(e,...t,e=>{i&&clearTimeout(i),o(e)})})}}})});n["a"].use(new at.a({debug:lt,connection:pt}));var ut=dt;n["a"].component("fjB",V["a"]),n["a"].component("fjAlerts",W),n["a"].component("fjConfirm",ae),n["a"].component("fjConfigElement",Je),n["a"].component("fjFileLoadButton",Ge),n["a"].component("fjFileSaveButton",ot),n["a"].config.productionTip=!1,n["a"].use(ut,{}),n["a"].prototype.$alert=function(...e){console.log(...e)};const mt={};n["a"].prototype.$missing=mt,M.missing=(e,t,o)=>((!mt[t]||mt[t].indexOf(e)<0)&&(mt[t]?mt[t].push(e):mt[t]=[e]),t),new n["a"]({vuetify:a,i18n:M,render:function(e){return e(E)}}).$mount("#app")},"6ce2":function(e){e.exports=JSON.parse("{}")},7578:function(e,t,o){var n=o("24fb");t=n(!1),t.push([e.i,"td,th,th[role=columnheader]{padding:0 1px;border-left:1px dotted #ddd}tr.alternate:nth-child(2n){background:#e3f2fd}.v-text-field{padding-top:0;margin-top:4px}",""]),e.exports=t},9224:function(e){e.exports=JSON.parse('{"name":"iobroker.acceptdata","version":"0.2.1","description":"Accept Data can be used as a destination for devices which generate data and can post it to a device on a network in JSON or URL format","author":{"name":"frankjoke","email":"frankjoke@hotmail.com"},"scripts":{"serve":"vue-cli-service serve","build":"vue-cli-service build","lint":"vue-cli-service lint","i18n:report":"vue-cli-service i18n:report --src \\"./src/**/*.?(js|vue)\\" --locales \\"./src/locales/**/*.json\\"","test:js":"mocha --opts test/mocha.custom.opts","test:package":"mocha test/package --exit","test:unit":"mocha test/unit --exit","test:integration":"mocha test/integration --exit","test":"npm run test:js && npm run test:package","eslint":"eslint"},"contributors":[{"name":"AlCalzone"},{"name":"bluefox"}],"homepage":"https://github.com/frankjoke/ioBroker.acceptdata","license":"MIT","keywords":["JSON","URL","GET","POST"],"repository":{"type":"git","url":"https://github.com/frankjoke/ioBroker.acceptdata"},"dependencies":{"@iobroker/adapter-core":"^2.3.1","express":"^4.17.1"},"devDependencies":{"@iobroker/testing":"^2.2.0","@mdi/font":"^5.1.45","@types/chai":"^4.2.11","@types/chai-as-promised":"^7.1.2","@types/gulp":"^4.0.6","@types/mocha":"^7.0.2","@types/node":"^13.13.4","@types/proxyquire":"^1.3.28","@types/sinon":"^9.0.0","@types/sinon-chai":"^3.2.4","@vue/cli-plugin-eslint":"^4.3.1","@vue/cli-service":"^4.3.1","@vue/eslint-config-prettier":"^6.0.0","axios":"^0.19.2","babel-eslint":"^10.1.0","chai":"^4.2.0","chai-as-promised":"^7.1.1","eslint":"^6.8.0","eslint-plugin-prettier":"^3.1.3","eslint-plugin-vue":"^6.2.2","file-saver":"^2.0.2","gulp":"^4.0.2","mocha":"^7.1.2","prettier":"^2.0.5","proxyquire":"^2.1.3","sass":"^1.26.5","sass-loader":"^8.0.2","sinon":"^9.0.2","sinon-chai":"^3.5.0","socket.io":"^2.3.0","socket.io-client":"^2.3.0","typeface-roboto":"0.0.75","vue":"^2.6.11","vue-cli-plugin-i18n":"^1.0.1","vue-cli-plugin-vuetify":"^2.0.5","vue-clipboard2":"^0.3.1","vue-i18n":"^8.17.4","vue-socket.io":"^3.0.8","vue-template-compiler":"^2.6.11","vuetify":"^2.2.26","vuetify-loader":"^1.4.3"},"main":"acceptdata.js","bugs":{"url":"https://github.com/frankjoke/ioBroker.acceptdata/issues"},"readmeFilename":"README.md","eslintConfig":{"root":true,"env":{"browser":true,"node":true},"extends":["plugin:vue/essential","@vue/prettier"],"rules":{"double":0,"isable-next-line":0},"parserOptions":{"parser":"babel-eslint"}}}')},a306:function(e){e.exports=JSON.parse("{}")},bd4b:function(e,t,o){var n=o("4404");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=o("499e").default;i("65b1c1b8",n,!0,{sourceMap:!1,shadowMode:!1})},cbf9:function(e,t,o){e.exports=o.p+"img/acceptdata.7d9f4151.png"},cda3:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.label||void 0!=e.bAttrs.icon?o("v-btn",e._b({attrs:{id:e.myUid},on:{click:function(t){return t.stopPropagation(),e.click(t)}}},"v-btn",e.bAttrs,!1),[e.img&&e.bAttrs.left&&!e.bAttrs.right?o("v-icon",e._b({domProps:{textContent:e._s(e.img)}},"v-icon",e.bAttrs,!1)):e._e(),e.label?o("span",[e._v(e._s(e.label))]):e._e(),!e.img||!e.bAttrs.right&&e.bAttrs.left?e._e():o("v-icon",e._b({attrs:{right:void 0==e.bAttrs.icon},domProps:{textContent:e._s(e.img)}},"v-icon",e.bAttrs,!1)),e._t("default"),e.tooltip?o("v-tooltip",e._b({attrs:{activator:e.activator}},"v-tooltip",e.ttAttrs,!1),[o("span",{directives:[{name:"t",rawName:"v-t",value:e.tooltip,expression:"tooltip"}]})]):e._e()],2):e.img?o("span",[o("v-icon",e._b({attrs:{id:e.myUid},domProps:{textContent:e._s(e.img)},on:{click:function(t){return t.stopPropagation(),e.click(t)}}},"v-icon",e.bAttrs,!1)),e.tooltip?o("v-tooltip",e._b({attrs:{activator:e.activator}},"v-tooltip",e.ttAttrs,!1),[o("span",{directives:[{name:"t",rawName:"v-t",value:e.tooltip,expression:"tooltip"}]})]):e._e(),e._t("default")],2):o("span",[o("v-icon",e._b({attrs:{id:e.myUid},on:{click:function(t){return t.stopPropagation(),e.click(t)}}},"v-icon",e.bAttrs,!1),[e._t("default")],2),e.tooltip?o("v-tooltip",e._b({attrs:{activator:e.activator}},"v-tooltip",e.ttAttrs,!1),[o("span",{directives:[{name:"t",rawName:"v-t",value:e.tooltip,expression:"tooltip"}]})]):e._e()],1)},i=[],r={name:"fjB",inheritAttrs:!1,data(){return{myUid:"tooltipa_"+this._uid}},props:{img:{type:String,default:""},label:{type:String,default:""},tooltip:{type:String,default:""},ttAttr:{type:Object,default:()=>({bottom:!0})},bAttr:{type:Object,default:()=>({dense:!0})}},methods:{click(e){this.$emit("click",e)}},computed:{ttAttrs(){const e=this.ttAttr;return e.top||e.left||e.right||(e.bottom=!0),e},bAttrs(){const e=this.bAttr;return Object.assign(e,this.$attrs),e},activator(){return"#"+this.myUid}},created(){}},a=r,s=o("2877"),l=o("6544"),c=o.n(l),p=o("8336"),d=o("132d"),u=o("3a2f"),m=Object(s["a"])(a,n,i,!1,null,null,null);t["a"]=m.exports;c()(m,{VBtn:p["a"],VIcon:d["a"],VTooltip:u["a"]})},d1dc:function(e,t,o){"use strict";var n=o("3afa"),i=o.n(n);i.a},ec67:function(module,__webpack_exports__,__webpack_require__){"use strict";var _fjB_vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("cda3");__webpack_exports__["a"]={name:"fjFileLoadButton",components:{fjB:_fjB_vue__WEBPACK_IMPORTED_MODULE_0__["a"]},props:{opts:{type:Object,default:()=>({type:"JSON",basename:"FileLoadButton"})},dropclass:{type:String,default:"success"},label:{type:String,default:""},message:{type:String,default:""},droplabel:{type:String,default:"Drop here"}},data(){return{loading:!1,drop:!1,over:!1}},computed:{myId(){const e=(this.opts.basename||"FileLoadButton_")+this._uid.toString();return e}},watch:{},methods:{importFile(r,opts){opts=opts||{type:"JSON"};const{skipAtStart:skipAtStart,skipAfterEnd:skipAfterEnd,type:type}=opts;let ss=skipAtStart?r.indexOf(skipAtStart):-1;ss>0&&(opts.skippedAtStart=r.slice(0,ss),r=r.slice(ss));let se=skipAfterEnd?r.lastIndexOf(skipAfterEnd):-1;if(se>0&&(opts.skippedAfterEnd=r.slice(se+1),r=r.slice(0,se+1)),"JSON"===type)try{r=JSON.parse(r)}catch(e){r="Error: file did not include json syntax!",this.$alert("error:JSON.parse: "+e)}else if("Javascript"===type)try{r=eval("("+r+")")}catch(e){r="Error: file could not be evaluated!",this.$alert("error:eval: "+e)}return r},loadTextFromFile(e){const t=this;e.target.files&&e.target.files.length||(this.loading=!1,e.target.value&&this.$alert("warning:"+this.tt("Browser does not load same file again!"),this.loading=!1)),this.loading=!0;const o=e.target.files[0],n=new FileReader;this.$nextTick(e=>{this.opts.name=o.name,n.onload=e=>{let o=e.target.result;o=t.importFile(o,t.opts),t.$emit("onchange",o),t.$alert&&t.message&&t.$alert("2|success:"+this.message),t.loading=!1},n.readAsText(o)},this)},triggerLoad(){const e=document.getElementById(this.myId);e.value=null,e.click()}},created(){},mounted(){const e=this;this.drop="undefined"!==typeof window.FileReader;const t=this.$el;this.drop&&(t.ondragleave=t.ondragover=t.ondragenter=function(){return e.over=!0,!1},t.ondragleave=function(){return e.over=!1,!1},t.ondrop=function(t){return e.over=!1,t.preventDefault(),t.target.files=t.dataTransfer.files,e.$nextTick().then(o=>e.loadTextFromFile(t)),!1})},unmounted(){if(this.drop){const e=this.$el;e.ondragenter=e.ondragover=e.ondragleave=e.ondrop=null}}}},edd4:function(e){e.exports=JSON.parse("{}")},f693:function(e){e.exports=JSON.parse("{}")}});